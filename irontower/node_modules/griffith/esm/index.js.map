{"version":3,"file":"index.js","sources":["../src/utils/formatTime.js","../src/components/Time/Time.js","../src/components/Icon/styles.js","../src/components/Icon/Icon.js","../src/components/Icon/icons/display/alert.js","../src/components/Icon/icons/display/pause.js","../src/components/Icon/icons/display/play.js","../src/components/Icon/icons/display/replay.js","../src/components/Loader/styles.js","../src/components/Loader/Loader.js","../src/contexts/VideoSource/VideoSourceContext.js","../src/contexts/VideoSource/parsePlaylist.js","../src/contexts/VideoSource/VideoSourceProvider.js","../src/contexts/Message/MessageContext.js","../src/contexts/ObjectFit/ObjectFitContext.js","../src/contexts/ObjectFit/ObjectFitProvider.js","../src/contexts/Position/PositionContext.js","../src/contexts/Position/styles.js","../src/contexts/Position/PositionProvider.js","../src/components/Video/VideoWithMessage.js","../src/components/Video/NormalVideo.js","../src/components/Video/selectVideo.js","../src/components/Video/styles.js","../src/components/Video/Video.js","../src/constants/KeyCode.js","../src/components/Controller/styles.js","../src/components/Icon/icons/controller/fullscreen.js","../src/components/Icon/icons/controller/muted.js","../src/components/Icon/icons/controller/pause.js","../src/components/Icon/icons/controller/play.js","../src/components/Icon/icons/controller/smallscreen.js","../src/components/Icon/icons/controller/volume.js","../src/components/Controller/items/PlayButtonItem.js","../src/utils/formatPercent.js","../src/components/Slider/styles.js","../src/components/Slider/Slider.js","../src/components/Timeline/styles.js","../src/components/Timeline/Timeline.js","../src/components/Timeline/MinimalTimeline.js","../src/components/Controller/items/TimelineItem.js","../src/components/Controller/items/CombinedTimeItem.js","../src/utils/reverseArray.js","../src/contexts/Locale/LocaleContext.js","../src/components/TranslatedText/strings.js","../src/components/TranslatedText/TranslatedText.js","../src/components/Controller/items/QualityMenuItem.js","../src/components/VolumeSlider/styles.js","../src/components/VolumeSlider/VolumeSlider.js","../src/components/Controller/items/VolumeItem.js","../src/components/Tooltip/styles.js","../src/components/Tooltip/Tooltip.js","../src/components/Hover/Hover.js","../src/components/Controller/items/FullScreenButtonItem.js","../src/components/Controller/Controller.js","../src/utils/getBufferedTime.js","../src/utils/storage.js","../src/components/Player/styles.js","../src/components/Player/Player.js","../src/components/PlayerContainer/PlayerContainer.js","../src/components/Layer/styles.js","../src/components/Layer/Layer.js"],"sourcesContent":["// https://github.com/zloirock/core-js/issues/280\nfunction pad(number) {\n  let result = String(number)\n  if (result.length < 2) {\n    result = '0' + result\n  }\n  return result\n}\n\nexport default function formatTime(time) {\n  if (!Number.isFinite(time)) return ''\n\n  time = Math.floor(time)\n  const seconds = time % 60\n  const minutes = Math.floor(time / 60)\n  return `${pad(minutes)}:${pad(seconds)}`\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport formatTime from '../../utils/formatTime'\n\nclass Time extends React.Component {\n  static propTypes = {\n    value: PropTypes.number,\n  }\n\n  static defaultProps = {\n    value: 0,\n  }\n\n  render() {\n    const {value} = this.props\n    return <span>{formatTime(value)}</span>\n  }\n}\n\nexport default Time\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({\n  root: {\n    display: 'inline-block',\n    width: '1.5em',\n    height: '1.5em',\n  },\n\n  svg: {\n    display: 'block',\n    width: '100%',\n    height: '100%',\n    fill: 'currentColor',\n  },\n})\n","import React, {cloneElement} from 'react'\nimport PropTypes from 'prop-types'\nimport {css} from 'aphrodite/no-important'\n\nimport styles from './styles'\n\nfunction Icon({icon, styles: customStyles}) {\n  const children = cloneElement(icon, {\n    className: css(styles.svg),\n  })\n\n  return <span className={css(styles.root, customStyles)}>{children}</span>\n}\n\nIcon.propTypes = {\n  icon: PropTypes.element.isRequired,\n}\n\nexport default Icon\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 20 20\">\n    <path d=\"M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zm-.034 2.966c1.95 0 1.485 1.807 1.485 2.21 0 .116-.784 7.79-.784 7.79h-1.4S8.48 5.344 8.48 5.23c0-.417-.462-2.264 1.486-2.264zm1.057 13.522c-.294.287-.647.43-1.056.43-.41 0-.762-.142-1.058-.43-.296-.286-.444-.643-.444-1.07 0-.41.148-.762.443-1.057.294-.294.647-.44 1.057-.44.41 0 .762.142 1.056.43.296.286.443.643.443 1.07 0 .426-.147.782-.443 1.068z\" />\n  </svg>\n)\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 72 72\">\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <circle cx=\"36\" cy=\"36\" r=\"36\" fill=\"#FFF\" fillOpacity=\".95\" />\n      <path\n        fill=\"#444\"\n        fillRule=\"nonzero\"\n        d=\"M41.143 22.5h5.786v27h-5.786zM25.071 22.5h5.786v27h-5.786z\"\n      />\n    </g>\n  </svg>\n)\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 72 72\">\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <circle cx=\"36\" cy=\"36\" r=\"36\" fill=\"#FFF\" fillOpacity=\".95\" />\n      <path\n        fill=\"#444\"\n        fillRule=\"nonzero\"\n        d=\"M50.8350169,37.0602664 L29.4767217,49.9693832 C28.900608,50.3175908 28.1558807,50.1251285 27.8133266,49.5395068 C27.701749,49.3487566 27.6428571,49.1309436 27.6428571,48.9090213 L27.6428571,23.0907876 C27.6428571,22.4094644 28.1862113,21.8571429 28.8564727,21.8571429 C29.0747919,21.8571429 29.2890685,21.9170066 29.4767217,22.0304257 L50.8350169,34.9395425 C51.4111306,35.28775 51.6004681,36.0447682 51.257914,36.6303899 C51.154433,36.8072984 51.0090531,36.9550776 50.8350169,37.0602664 Z\"\n      />\n    </g>\n  </svg>\n)\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 24 24\">\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <rect width=\"24\" height=\"24\" />\n      <path\n        fill=\"#FFF\"\n        d=\"M12.4049973,3.62840003 C17.1876069,3.84468032 21,7.87252205 21,12.8096305 C21,17.8853314 16.9705627,22 12,22 C7.02943725,22 3,17.8853314 3,12.8096305 C3,12.0229797 3.624497,11.3852732 4.39485308,11.3852732 C5.16520917,11.3852732 5.78970616,12.0229797 5.78970616,12.8096305 C5.78970616,16.3120298 8.57014942,19.1512855 12,19.1512855 C15.4298506,19.1512855 18.2102938,16.3120298 18.2102938,12.8096305 C18.2102938,9.44617464 15.6460805,6.69429107 12.4049973,6.4812447 L12.4049973,8.30324795 C12.4049973,8.71101381 12.0954942,9.04157334 11.7137028,9.04157334 C11.5841406,9.04157334 11.457186,9.00268616 11.3473174,8.92934663 L6.42999892,5.64693477 C6.10624047,5.4308193 6.00781868,4.97530916 6.21016772,4.62952441 C6.26580359,4.53445089 6.34098153,4.45415835 6.42999892,4.3947374 L11.3473174,1.11232554 C11.6710759,0.896210069 12.0975703,1.00132779 12.2999193,1.34711255 C12.3685872,1.46445578 12.4049973,1.60004749 12.4049973,1.73842422 L12.4049973,3.62840003 Z\"\n      />\n    </g>\n  </svg>\n)\n","import {StyleSheet} from 'aphrodite/no-important'\n\nconst SIZE = 64\nconst BORDER = 3\nconst RADIUS = (SIZE - BORDER) / 2\nconst PERIMETER = 2 * Math.PI * RADIUS\n\nconst animation = {\n  '0%': {\n    transform: 'rotate(0deg)',\n  },\n\n  '100%': {\n    transform: 'rotate(360deg)',\n  },\n}\n\nconst circleAnimation = {\n  '0%': {\n    strokeDashoffset: PERIMETER,\n    transform: 'rotate(0deg)',\n  },\n\n  '50%': {\n    strokeDashoffset: PERIMETER / 4,\n    transform: 'rotate(90deg)',\n  },\n\n  '100%': {\n    strokeDashoffset: PERIMETER,\n    transform: 'rotate(360deg)',\n  },\n}\n\nexport default StyleSheet.create({\n  root: {\n    width: '4em',\n    height: '4em',\n  },\n\n  svg: {\n    display: 'block',\n    width: '100%',\n    height: '100%',\n    animationName: animation,\n    animationDuration: '2s',\n    animationIterationCount: 'infinite',\n    animationTimingFunction: 'linear',\n  },\n\n  circle: {\n    cx: '50%',\n    cy: '50%',\n    r: RADIUS,\n    strokeDasharray: PERIMETER,\n    stroke: 'currentColor',\n    strokeWidth: BORDER,\n    strokeLinecap: 'round',\n    fill: 'none',\n    transformOrigin: 'center',\n    animationName: circleAnimation,\n    animationDuration: '1.5s',\n    animationIterationCount: 'infinite',\n    animationTimingFunction: 'ease-in-out',\n  },\n})\n","import React, {Component} from 'react'\nimport {css} from 'aphrodite/no-important'\n\nimport styles from './styles'\n\nclass Loader extends Component {\n  render() {\n    return (\n      <div className={css(styles.root)}>\n        <svg viewBox=\"0 0 64 64\" className={css(styles.svg)}>\n          <circle className={css(styles.circle)} />\n        </svg>\n      </div>\n    )\n  }\n}\n\nexport default Loader\n","import React from 'react'\n\nconst VideoSourceContext = React.createContext({})\nVideoSourceContext.displayName = 'VideoSourceContext'\n\nexport default VideoSourceContext\n","const QUALITY_ORDER = ['ld', 'sd', 'hd']\n\nexport const getQualities = (sources, isMobile) => {\n  const qualities = Object.keys(sources).sort(\n    (a, b) => QUALITY_ORDER.indexOf(a) - QUALITY_ORDER.indexOf(b)\n  )\n\n  if (qualities.length > 1) {\n    if (isMobile) {\n      // 移动端只返回最低清晰度\n      return qualities.slice(0, 1)\n    } else {\n      // 桌面端端去掉低清，除非只有一个低清\n      return qualities.filter(item => item !== 'ld')\n    }\n  }\n\n  return qualities\n}\n\nexport const getSources = (qualities, sources) =>\n  qualities.map(quality => {\n    const {play_url, ...rest} = sources[quality]\n    return {\n      ...rest,\n      source: play_url,\n      quality,\n    }\n  })\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport {parse} from 'query-string'\nimport VideoSourceContext from './VideoSourceContext'\nimport {getQualities, getSources} from './parsePlaylist'\nimport {EVENTS} from 'griffith-message'\nimport {ua} from 'griffith-utils'\n\nconst {isMobile} = ua\n\nexport default class VideoSourceProvider extends React.Component {\n  static propTypes = {\n    onEvent: PropTypes.func.isRequired,\n    sources: PropTypes.object,\n    id: PropTypes.string.isRequired,\n  }\n\n  state = {\n    qualities: [],\n    currentQuality: null,\n    format: null,\n    sources: [],\n    expiration: 0,\n    dataKey: null,\n  }\n\n  static getDerivedStateFromProps = ({sources: videoSources, id}, state) => {\n    if (!videoSources) return null\n    const {format, play_url} = Object.values(videoSources)[0]\n    const {expiration} = parse(play_url)\n    const dataKey = `${id}-${expiration}` // expiration 和 id 组合可以唯一标识一次请求的数据\n\n    if (dataKey == state.dataKey) return null\n\n    const qualities = getQualities(videoSources, isMobile)\n\n    const sources = getSources(qualities, videoSources)\n\n    if (!isMobile && format === 'm3u8') {\n      qualities.unshift('auto')\n    }\n    const currentQuality = state.currentQuality || qualities[0]\n\n    return {\n      currentQuality,\n      qualities,\n      sources,\n      format,\n      expiration: Number(expiration),\n      dataKey,\n    }\n  }\n\n  setCurrentQuality = quality => {\n    const prevQuality = this.state.currentQuality\n    if (prevQuality !== quality) {\n      this.setState({currentQuality: quality})\n      this.props.onEvent(EVENTS.PLAYER.QUALITY_CHANGE, {\n        prevQuality,\n        quality,\n      })\n    }\n  }\n\n  /**\n   * 获得当前 src, 根据当前清晰度返回对应的 src\n   */\n  getCurrentSrc = () => {\n    const {currentQuality, sources} = this.state\n    if (sources.length === 0) {\n      return\n    }\n\n    const source =\n      sources.find(item => item.quality === currentQuality) || sources[0]\n    return source.source\n  }\n\n  render() {\n    const {qualities, currentQuality, format, dataKey, sources} = this.state\n\n    return (\n      <VideoSourceContext.Provider\n        value={{\n          dataKey,\n          qualities,\n          format,\n          sources,\n          currentQuality,\n          currentSrc: this.getCurrentSrc(),\n          setCurrentQuality: this.setCurrentQuality,\n        }}\n      >\n        {this.props.children}\n      </VideoSourceContext.Provider>\n    )\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport EventEmitter from 'eventemitter3'\nimport {createMessageHelper} from 'griffith-message'\n\nconst EVENT_TYPE = 'event'\nconst ACTION_TYPE = 'action'\n\n/**\n * 用于播放器内部，只能接收外界传入的 Action，向外界发出 Event\n */\nexport const InternalContext = React.createContext({})\nInternalContext.displayName = 'InternalMessageContext'\n\n/**\n * 用于播放器外部，只能接收播放器发出的 Event, 或者向播放器发送 Action\n */\nexport const ExternalContext = React.createContext({})\nExternalContext.displayName = 'ExternalMessageContext'\n\nexport class MessageProvider extends React.PureComponent {\n  static propsTypes = {\n    id: PropTypes.string.isRequired,\n    enableCrossWindow: PropTypes.bool,\n    targetOrigin: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    targetOrigin: '*',\n  }\n\n  constructor(props) {\n    super(props)\n    this.emitter = new EventEmitter()\n    const {id, targetOrigin} = this.props\n    const {subscribeMessage, dispatchMessage} = createMessageHelper(\n      id,\n      targetOrigin\n    )\n\n    this.subscribeCrossWindowMessage = subscribeMessage\n    this.dispatchCrossWindowMessage = dispatchMessage\n  }\n\n  componentDidMount() {\n    if (this.props.enableCrossWindow) {\n      this.crossWindowMessageSubscription = this.subscribeCrossWindowMessage(\n        this.dispatchAction\n      )\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.crossWindowEventSubscription) {\n      this.crossWindowEventSubscription.unsubscribe()\n    }\n  }\n\n  emitEvent = (eventName, data) => {\n    this.emitter.emit(eventName, {__type__: EVENT_TYPE, data})\n    if (this.props.enableCrossWindow) {\n      this.dispatchCrossWindowMessage(window.parent, eventName, data)\n    }\n  }\n\n  subscribeEvent = (eventName, listener) => {\n    const realLisener = ({__type__, data} = {}) => {\n      if (__type__ === EVENT_TYPE) {\n        listener(data)\n      }\n    }\n    this.emitter.on(eventName, realLisener)\n\n    return {\n      unsubscribe: () => this.emitter.off(eventName, realLisener),\n    }\n  }\n\n  dispatchAction = (actionName, data) => {\n    this.emitter.emit(actionName, {__type__: ACTION_TYPE, data})\n  }\n\n  subscribeAction = (eventName, listener) => {\n    const realLisener = ({__type__, data}) => {\n      if (__type__ === ACTION_TYPE) {\n        listener(data)\n      }\n    }\n    this.emitter.on(eventName, realLisener)\n\n    return {\n      unsubscribe: () => this.emitter.off(eventName, realLisener),\n    }\n  }\n\n  render() {\n    return (\n      <InternalContext.Provider\n        value={{\n          emitEvent: this.emitEvent,\n          subscribeAction: this.subscribeAction,\n        }}\n      >\n        <ExternalContext.Provider\n          value={{\n            dispatchAction: this.dispatchAction,\n            subscribeEvent: this.subscribeEvent,\n          }}\n        >\n          {this.props.children}\n        </ExternalContext.Provider>\n      </InternalContext.Provider>\n    )\n  }\n}\n","import React from 'react'\n\nconst ObjectFitContext = React.createContext({})\nObjectFitContext.displayName = 'ObjectFitContext'\n\nexport default ObjectFitContext\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport ObjectFitContext from './ObjectFitContext'\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit\nexport const VALID_FIT = ['fill', 'contain', 'cover', 'none', 'scale-down']\n\nexport default class ObjectFitProvider extends React.Component {\n  static propTypes = {\n    initialObjectFit: PropTypes.oneOf(VALID_FIT).isRequired,\n  }\n\n  static defaultProps = {\n    initialObjectFit: 'contain',\n  }\n\n  state = {\n    objectFit: this.props.initialObjectFit,\n  }\n\n  setObjectFit = objectFit => {\n    if (VALID_FIT.includes(objectFit) && this.state.objectFit !== objectFit) {\n      this.setState({\n        objectFit,\n      })\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {initialObjectFit} = this.props\n    if (initialObjectFit !== prevProps.initialObjectFit) {\n      this.setObjectFit(initialObjectFit)\n    }\n  }\n\n  render() {\n    const {objectFit} = this.state\n    return (\n      <ObjectFitContext.Provider\n        value={{\n          objectFit,\n          setObjectFit: this.setObjectFit,\n        }}\n      >\n        {this.props.children}\n      </ObjectFitContext.Provider>\n    )\n  }\n}\n","import React from 'react'\n\nconst PositionContext = React.createContext({isFullWidth: false})\nPositionContext.displayName = 'PositionContext'\n\nexport default PositionContext\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({\n  root: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n  },\n})\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport {css} from 'aphrodite/no-important'\nimport {reduce} from 'griffith-utils'\nimport elementResizeEvent from 'element-resize-event'\nimport PositionContext from './PositionContext'\nimport styles from './styles'\n\nexport default class PositionProvider extends React.PureComponent {\n  static propTypes = {\n    shouldObserveResize: PropTypes.bool,\n  }\n\n  state = {\n    videoWidth: 0,\n    videoHeight: 0,\n    isFullWidth: false,\n    helperImageSrc: null,\n  }\n\n  ref = React.createRef()\n\n  componentDidMount() {\n    if (this.props.shouldObserveResize) {\n      this.startObservingResize()\n    }\n    this.triggerUpdateIsFullWidth()\n    this.updateHelperImageSrc()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {shouldObserveResize: prevShouldObserve} = prevProps\n    const {videoWidth: prevWidth, videoHeight: prevHeight} = prevState\n    const {shouldObserveResize} = this.props\n    const {videoWidth, videoHeight} = this.state\n\n    if (prevWidth !== videoWidth || prevHeight !== videoHeight) {\n      this.triggerUpdateIsFullWidth()\n      this.updateHelperImageSrc()\n    }\n\n    if (!prevShouldObserve && shouldObserveResize) {\n      this.startObservingResize()\n    }\n    if (prevShouldObserve && !shouldObserveResize) {\n      this.stopObservingResize()\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopObservingResize()\n  }\n\n  startObservingResize = () => {\n    const root = this.ref.current\n    if (root) {\n      elementResizeEvent(root, this.updateIsFullWidth)\n    }\n  }\n\n  stopObservingResize() {\n    const root = this.ref.current\n    if (root) {\n      elementResizeEvent.unbind(root)\n    }\n  }\n\n  updateHelperImageSrc = () => {\n    const {videoWidth, videoHeight} = this.state\n    if (!videoWidth || !videoHeight) {\n      return\n    }\n    const [width, height] = reduce(videoWidth, videoHeight)\n    const canvas = document.createElement('canvas')\n    canvas.width = width\n    canvas.height = height\n    const helperImageSrc = canvas.toDataURL()\n    this.setState({helperImageSrc})\n  }\n\n  updateIsFullWidth = () => {\n    const {videoWidth, videoHeight} = this.state\n    if (!videoWidth || !videoHeight) {\n      return\n    }\n    const root = this.ref.current\n    if (!root) return\n\n    const {width, height} = root.getBoundingClientRect()\n    // 因为视频缩放后，长宽可能不严格相等，所以认为差值小于等于 0.01 的就算相等。\n    // 比如 1280x720 (1.777777778) 和 848x478 (1.774058577)，认为相等。\n    const isFullWidth = width / height - videoWidth / videoHeight <= 0.01\n    if (isFullWidth !== this.state.isFullWidth) {\n      this.setState({isFullWidth})\n    }\n  }\n\n  triggerUpdateIsFullWidth = () => requestAnimationFrame(this.updateIsFullWidth)\n\n  updateVideoSize = ({videoWidth, videoHeight}) => {\n    this.setState({videoWidth, videoHeight})\n  }\n\n  render() {\n    const {children} = this.props\n    const {isFullWidth, helperImageSrc} = this.state\n    return (\n      <PositionContext.Provider\n        value={{\n          isFullWidth,\n          helperImageSrc,\n          updateVideoSize: this.updateVideoSize,\n        }}\n      >\n        <div className={css(styles.root)} ref={this.ref}>\n          {children}\n        </div>\n      </PositionContext.Provider>\n    )\n  }\n}\n","import React from 'react'\nimport {EVENTS} from 'griffith-message'\nimport {sequence} from 'griffith-utils'\nimport noop from 'lodash/noop'\nimport {InternalContext} from '../../contexts/Message'\nimport {ObjectFitContext} from '../../contexts/ObjectFit'\nimport {PositionContext} from '../../contexts/Position'\n\nconst eventMap = [\n  [EVENTS.DOM.PLAY, 'onPlay'],\n  [EVENTS.DOM.PLAYING, 'onPlaying'],\n  [EVENTS.DOM.PAUSE, 'onPause'],\n  [EVENTS.DOM.ENDED, 'onEnded'],\n  [EVENTS.DOM.TIMEUPDATE, 'onTimeUpdate'],\n  [EVENTS.DOM.ERROR, 'onError'],\n  [EVENTS.DOM.WAITING, 'onWaiting'],\n]\n\nfunction serializeDOMException(exception) {\n  if (!exception) return null\n  const {code, messge, name} = exception\n  return {code, messge, name}\n}\n\nfunction getMediaEventPayload(event) {\n  const {currentTime, duration, error} = event.currentTarget\n  return {\n    currentTime,\n    duration,\n    error: serializeDOMException(error),\n  }\n}\n\nconst VideoWithMessage = React.forwardRef((props, ref) => {\n  const renderChildren = (emitEvent, objectFit, updateVideoSize) => {\n    const newProps = {}\n    eventMap.map(([eventName, key]) => {\n      const handler = props[key]\n      const emit = event => emitEvent(eventName, getMediaEventPayload(event))\n      newProps[key] = sequence(emit, handler || noop)\n    })\n\n    const updateVideoSizeOnLoadedMetadata = event => {\n      const videoNode = event.currentTarget\n      if (videoNode) {\n        const {videoWidth, videoHeight} = videoNode\n        updateVideoSize({videoWidth, videoHeight})\n      }\n    }\n\n    const newOnLoadedMetadata = sequence(\n      updateVideoSizeOnLoadedMetadata,\n      props.onLoadedMetadata || noop\n    )\n\n    const {Video, ...otherProps} = props\n\n    return (\n      <Video\n        {...otherProps}\n        {...newProps}\n        ref={ref}\n        style={{objectFit}}\n        onLoadedMetadata={newOnLoadedMetadata}\n      />\n    )\n  }\n\n  return (\n    <PositionContext.Consumer>\n      {({updateVideoSize}) => (\n        <ObjectFitContext.Consumer>\n          {({objectFit}) => (\n            <InternalContext.Consumer>\n              {({emitEvent}) =>\n                renderChildren(emitEvent, objectFit, updateVideoSize)\n              }\n            </InternalContext.Consumer>\n          )}\n        </ObjectFitContext.Consumer>\n      )}\n    </PositionContext.Consumer>\n  )\n})\n\nexport default VideoWithMessage\n","import React from 'react'\n\n// eslint-disable-next-line\nconst NormalVideo = ({onRef, paused, currentQuality, sources, ...props}) => (\n  <video {...props} ref={onRef} />\n)\n\nexport default {\n  pluginName: 'native',\n  VideoComponent: NormalVideo,\n}\n","import {isHlsNativeSupported, isMSESupported} from 'griffith-utils'\nimport NormalVideo from './NormalVideo'\n/* global __WITHOUT_HLSJS__:false, __WITHOUT_MP4__:false */\n\nexport default function selectVideo(format, useMSE) {\n  if (format === 'm3u8') {\n    if (typeof __WITHOUT_HLSJS__ === 'undefined' ? false : __WITHOUT_HLSJS__) {\n      return NormalVideo\n    } else if (isMSESupported() && !isHlsNativeSupported()) {\n      return require('griffith-hls').default\n    }\n  }\n  if (format === 'mp4') {\n    if (typeof __WITHOUT_MP4__ === 'undefined' ? false : __WITHOUT_MP4__) {\n      return NormalVideo\n    } else if (isMSESupported() && useMSE) {\n      return require('griffith-mp4').default\n    }\n  }\n  return NormalVideo\n}\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({\n  root: {\n    display: 'block',\n    width: '100%',\n    height: '100%',\n  },\n})\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {css} from 'aphrodite/no-important'\nimport {EVENTS} from 'griffith-message'\nimport {logger, ua} from 'griffith-utils'\n\nimport {VideoSourceContext} from '../../contexts/VideoSource'\nimport VideoWithMessage from './VideoWithMessage'\nimport selectVideo from './selectVideo'\nimport styles from './styles'\n\nconst {isMobile} = ua\n\nconst isAbortError = error =>\n  (error && error.name === 'AbortError') ||\n  (error instanceof MediaError && error.code === MediaError.MEDIA_ERR_ABORTED)\n\nconst isNotAllowedError = error => error && error.name === 'NotAllowedError'\n\nclass Video extends Component {\n  static propTypes = {\n    controls: PropTypes.bool,\n    paused: PropTypes.bool,\n    volume: PropTypes.number,\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    onEnded: PropTypes.func,\n    onLoadedData: PropTypes.func,\n    onDurationChange: PropTypes.func,\n    onTimeUpdate: PropTypes.func,\n    onWaiting: PropTypes.func,\n    onPlaying: PropTypes.func,\n    onSeeking: PropTypes.func,\n    onSeeked: PropTypes.func,\n    onProgress: PropTypes.func,\n    onError: PropTypes.func.isRequired,\n    onEvent: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    src: null,\n    paused: true,\n    volume: 0.5,\n  }\n\n  isMetadataLoaded = false\n  pendingAction = null\n  loading = false\n\n  // refs\n  root = null\n\n  componentDidMount() {\n    this.root.volume = this.props.volume ** 2\n  }\n\n  getSnapshotBeforeUpdate() {\n    return {\n      paused: this.root.paused,\n      currentTime: this.root.currentTime,\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const {src, paused, volume, format, useMSE} = this.props\n\n    /**\n     * 切换清晰度，如果是非 mse 视频（src 是 blob 类型）\n     * data 变化的时候会 remount，所以 componentDidUpdate 中 src 变化一定是清晰度变了\n     */\n    if (prevProps.src && src !== prevProps.src) {\n      const {willHandleSrcChange} = selectVideo(format, useMSE)\n\n      // TODO 这一块逻辑需要 Video 自己处理\n      if (!willHandleSrcChange) {\n        this.safeExecute(() => {\n          this.isMetadataLoaded = false\n          this.seek(snapshot.currentTime)\n          if (!snapshot.paused) {\n            this.play()\n          }\n        })\n      }\n    }\n\n    if (paused !== prevProps.paused && paused !== this.root.paused) {\n      if (paused) {\n        this.pause()\n      } else {\n        this.play()\n      }\n    }\n\n    if (this.root.volume !== volume ** 2 && !isMobile) {\n      this.root.volume = volume ** 2\n    }\n  }\n\n  pending(action) {\n    this.pendingAction = {\n      ...this.pendingAction,\n      ...action,\n    }\n  }\n\n  applyPendingAction() {\n    if (!this.pendingAction) {\n      return\n    }\n\n    const action = this.pendingAction\n    this.pendingAction = null\n\n    if (action.currentTime !== undefined) {\n      this.seek(action.currentTime)\n    }\n\n    if (action.paused !== undefined && action.paused !== this.root.paused) {\n      if (action.paused) {\n        this.pause()\n      } else {\n        this.play()\n      }\n    }\n  }\n\n  /**\n   * @see https://developers.google.com/web/updates/2017/06/play-request-was-interrupted\n   */\n  safeExecute = fn => {\n    if (this.playPromise !== undefined) {\n      this.playPromise.then(() => {\n        fn()\n      })\n    } else {\n      fn()\n    }\n  }\n\n  play() {\n    if (!isMobile && !this.isMetadataLoaded) {\n      this.pending({paused: false})\n\n      if (this.root.load) {\n        // workaround for some devices that not support preload=\"metadata\"\n        this.safeExecute(() => this.root.load())\n      }\n\n      return\n    }\n\n    this.playPromise = Promise.resolve(this.root.play()) // 保证是 promise\n      .catch(error => {\n        const {onError} = this.props\n        if (onError) {\n          onError(error)\n        }\n      })\n  }\n\n  pause() {\n    if (!isMobile && !this.isMetadataLoaded) {\n      this.pending({paused: true})\n      return\n    }\n\n    this.safeExecute(() => this.root.pause())\n  }\n\n  seek(currentTime) {\n    if (!Number.isFinite(currentTime)) return\n\n    if (!this.isMetadataLoaded) {\n      this.pending({currentTime})\n      return\n    }\n\n    // see https://stackoverflow.com/a/23353005\n    if (this.root.duration) {\n      this.root.currentTime = currentTime\n    }\n  }\n\n  handleMetadataLoaded = () => {\n    this.isMetadataLoaded = true\n    this.applyPendingAction()\n  }\n\n  handleError = () => {\n    const {onError} = this.props\n    if (onError) {\n      onError(this.root.error)\n    }\n  }\n\n  handleDurationChange = () => {\n    const {onDurationChange} = this.props\n    if (onDurationChange) {\n      onDurationChange(this.root.duration)\n    }\n  }\n\n  handleWaiting = () => {\n    if (!this.loading) {\n      this.loading = true\n    }\n    this.props.onWaiting()\n  }\n\n  handlePlaying = () => {\n    if (this.loading) {\n      this.loading = false\n    }\n    this.props.onPlaying()\n  }\n\n  handleTimeUpdate = arg => {\n    const {onTimeUpdate, paused} = this.props\n\n    this.disposeTimer()\n    if (paused || this.loading) {\n      return\n    }\n    const {currentTime} = this.root || {}\n\n    if (onTimeUpdate && currentTime) {\n      const isRaf = typeof arg === 'number' // raf 调用 arg 是 时间戳，事件监听调用 arg 是 event\n      onTimeUpdate(currentTime, isRaf)\n      if (!isMobile) {\n        // 移动端使用原生进度条，不需要频繁更新，减少性能压力\n        this._playTimer = window.requestAnimationFrame(this.handleTimeUpdate)\n      }\n    }\n  }\n\n  handleProgress = () => {\n    const {onProgress} = this.props\n    const buffered = this.root.buffered\n    const result = []\n    for (let i = 0; i < buffered.length; i++) {\n      result.push({\n        start: buffered.start(i),\n        end: buffered.end(i),\n      })\n    }\n    if (onProgress) {\n      onProgress(result)\n    }\n  }\n\n  disposeTimer() {\n    window.cancelAnimationFrame(this._playTimer)\n  }\n\n  handleError = () => {\n    const {error, currentTime} = this.root || {}\n    if (!error) {\n      return\n    }\n    const {code, message, name} = error\n\n    logger.debug('Error: %o', {code, message, name})\n\n    const dontReportPlayFailed = isNotAllowedError(error) || isAbortError(error) // 这两种错误不认为是播放失败\n\n    if (!dontReportPlayFailed) {\n      this.props.onEvent(EVENTS.PLAYER.PLAY_FAILED, {currentTime})\n    }\n    this.props.onError(error)\n  }\n\n  render() {\n    const {\n      src,\n      controls,\n      paused,\n      volume,\n      onPlay,\n      onPause,\n      onEnded,\n      onLoadedData,\n      onSeeking,\n      onSeeked,\n      format,\n      useMSE,\n      sources,\n      currentQuality,\n    } = this.props\n\n    const {VideoComponent} = selectVideo(format, useMSE)\n\n    return (\n      <VideoWithMessage\n        onRef={node => {\n          this.root = node\n        }}\n        className={css(styles.root)}\n        preload=\"metadata\"\n        playsInline\n        webkit-playsinline=\"\"\n        x-webkit-airplay=\"deny\"\n        muted={!volume}\n        controls={controls}\n        src={src}\n        onPlay={onPlay}\n        onPause={onPause}\n        onEnded={onEnded}\n        onLoadedData={onLoadedData}\n        onSeeking={onSeeking}\n        onSeeked={onSeeked}\n        onClick={this.handleClick}\n        onLoadedMetadata={this.handleMetadataLoaded}\n        onError={this.handleError}\n        onDurationChange={this.handleDurationChange}\n        onTimeUpdate={this.handleTimeUpdate}\n        onProgress={this.handleProgress}\n        onWaiting={this.handleWaiting}\n        onPlaying={this.handlePlaying}\n        paused={paused}\n        sources={sources}\n        currentQuality={currentQuality}\n        Video={VideoComponent}\n      />\n    )\n  }\n}\n\nexport default React.forwardRef((props, ref) => (\n  <VideoSourceContext.Consumer>\n    {({currentSrc, sources, currentQuality, format}) => (\n      <Video\n        ref={ref}\n        {...props}\n        src={currentSrc}\n        format={format}\n        sources={sources}\n        currentQuality={currentQuality}\n      />\n    )}\n  </VideoSourceContext.Consumer>\n))\n","export default {\n  ENTER: 13,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  ZERO: 48,\n  ONE: 49,\n  TWO: 50,\n  THREE: 51,\n  FOUR: 52,\n  FIVE: 53,\n  SIX: 54,\n  SEVEN: 55,\n  EIGHT: 56,\n  NINE: 57,\n  F: 70,\n  J: 74,\n  K: 75,\n  L: 76,\n  M: 77,\n}\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    height: '2.5em',\n    padding: '0 0.5em',\n  },\n\n  button: {\n    display: 'block',\n    width: '2.5em',\n    height: '2.5em',\n    margin: 0,\n    padding: '0.5em',\n    border: 'none',\n    borderRadius: 0,\n    fontSize: 'inherit',\n    color: 'rgba(255, 255, 255, 0.7)',\n    background: 'none',\n    cursor: 'pointer',\n    transition: 'color 300ms',\n\n    ':hover': {\n      color: '#fff',\n    },\n\n    ':focus': {\n      outline: 'none',\n    },\n  },\n\n  menuContainer: {\n    position: 'relative',\n  },\n\n  menu: {\n    position: 'absolute',\n    left: '50%',\n    bottom: '100%',\n    visibility: 'hidden',\n    opacity: 0,\n    transform: 'translateX(-50%)',\n    transition: 'visibility 300ms, opacity 300ms',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    borderRadius: '4px',\n  },\n\n  menuShown: {\n    visibility: 'visible',\n    opacity: 1,\n  },\n\n  timeline: {\n    flex: 1,\n  },\n\n  time: {\n    padding: '0 0.5em',\n    width: '100px',\n    textAlign: 'center',\n    fontSize: '0.875em',\n    lineHeight: 2.5,\n    color: 'rgba(255, 255, 255, 0.9)',\n  },\n\n  qualityButton: {\n    width: 'auto',\n    lineHeight: 1.5,\n  },\n\n  qualityButtonText: {\n    fontSize: '0.875em',\n  },\n\n  qualityMenu: {\n    padding: '0.25em 0',\n  },\n\n  qualityMenuItem: {\n    display: 'block',\n    height: '2em',\n    margin: 0,\n    padding: '0 0.75em',\n    border: 'none',\n    borderRadius: 0,\n    fontSize: '0.875em',\n    lineHeight: 2,\n    whiteSpace: 'nowrap',\n    color: 'rgba(255, 255, 255, 0.5)',\n    background: 'none',\n    cursor: 'pointer',\n    transition: 'color 300ms, background-color 300ms',\n\n    ':hover': {\n      backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    },\n\n    ':focus': {\n      outline: 'none',\n    },\n  },\n\n  qualityMenuActiveItem: {\n    color: '#fff',\n  },\n\n  fullScreenTooltip: {\n    pointerEvents: 'none',\n  },\n\n  fullScreenedTime: {\n    width: '150px',\n  },\n\n  fullScreenTooltipWide: {\n    left: '30%',\n  },\n})\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M20,10 L20,5 C20,4.44771525 19.5490248,4 19.009222,4 L14,4 L14,6 L18,6 L18,10 L20,10 Z M19.7115371,19.7068284 C19.8902571,19.5277733 20,19.2813055 20,19.009222 L20,14 L18,14 L18,18 L14,18 L14,20 L19.009222,20 C19.2776249,20 19.5240668,19.8893106 19.7040291,19.7101145 L19.7115371,19.7068284 Z M6,18 L6,14 L4,14 L4,19.009222 C4,19.2813055 4.10974288,19.5277733 4.28846285,19.7068284 C4.47593315,19.8893106 4.72237506,20 4.99077797,20 L10,20 L10,18 L6,18 Z M4.28846285,4.29317155 C4.10974288,4.47222673 4,4.71869448 4,4.99077797 L4,10 L6,10 L6,6 L10,6 L10,4 L4.99077797,4 C4.72237506,4 4.47593315,4.11068941 4.29597088,4.28988548 L4.28846285,4.29317155 Z\" />\n  </svg>\n)\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M7.38001507,9.5 L5,9.5 L5,12.0119396 L5,14.5238791 L8.33098415,14.5238791 L8.33098415,14.5238791 C8.39017333,14.520451 8.4497727,14.5223174 8.50904598,14.5296109 C8.72475585,14.5524598 8.91816198,14.6424266 9.06920843,14.7779841 L13,17.4293365 L13,15.1199849 L7.38001507,9.5 Z M15,17.1199849 L15,19.251289 C15,19.8045373 14.5522847,20.25 14,20.25 C13.98423,20.25 13.9685502,20.2496405 13.9529683,20.2489292 C13.7472793,20.2584936 13.5372091,20.2041245 13.3535806,20.0802655 L8.08102098,16.5238791 L4.00000001,16.5238791 C3.71994909,16.5238791 3.46994918,16.4119504 3.29196292,16.2310404 C3.11117675,16.0497507 3,15.7991447 3,15.5223056 L3,12.0119396 L3,8.50157356 C3,8.2247344 3.11117675,7.97412842 3.29196292,7.79283868 C3.46994918,7.61192872 3.71994909,7.5 4.00000001,7.5 L5.38001507,7.5 L3.38382011,5.50380504 C2.99233448,5.1123194 2.98883249,4.48109777 3.38207944,4.08785081 C3.77260374,3.69732652 4.3999302,3.691488 4.79803367,4.08959148 L18.936688,18.2282458 C19.3281736,18.6197314 19.3316756,19.250953 18.9384286,19.6442 C18.5479043,20.0347243 17.9205779,20.0405628 17.5224744,19.6424593 L15,17.1199849 Z M10.792179,8.08373676 L9.35149599,6.64305379 L13.3535806,3.94361361 C13.5372091,3.81975463 13.7472793,3.76538554 13.9529683,3.77494994 C13.9685502,3.77423867 13.98423,3.77387913 14,3.77387913 C14.5522847,3.77387913 15,4.21934183 15,4.77259008 L15,12.0119396 L15,12.2915578 L13,10.2915578 L13,6.59454265 L10.792179,8.08373676 Z M18.0173138,15.3088716 C18.8917509,14.408489 19.4301566,13.1799808 19.4301566,11.8257212 C19.4301566,10.2214787 18.6746368,8.79369726 17.5,7.87877967 L17.5067574,7.87009164 C17.2041341,7.69816923 17,7.37292366 17,7 C17,6.44771525 17.4477153,6 18,6 C18.2836948,6 18.5397977,6.11813499 18.721799,6.30789526 L18.7279374,6.30000305 C20.3724289,7.58088767 21.4301566,9.57978168 21.4301566,11.8257212 C21.4301566,13.7322659 20.6679517,15.4607882 19.431636,16.7231938 L18.0173138,15.3088716 Z\" />\n  </svg>\n)\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M9,5 C10,5 10,6 10,6 C10,6 10,17 10,18 C10,19 9,19 9,19 L7,19 C6,19 6,18 6,18 L6,6 C6,5 7,5 7,5 C7,5 8,5 9,5 Z M17,5 C18,5 18,6 18,6 C18,6 18,17 18,18 C18,19 17,19 17,19 L15,19 C14,19 14,18 14,18 L14,6 C14,5 15,5 15,5 C15,5 16,5 17,5 Z\" />\n  </svg>\n)\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M8.03610236,19.7012935 C6.93281899,20.3993842 6,19.8347521 6,18.4154722 L6,5.59575582 C6,4.14567779 6.91151094,3.59901121 8.03610236,4.30993442 L18.1645278,10.7185093 C19.2678112,11.4166 19.2891193,12.5817954 18.1645278,13.2927186 L8.03610236,19.7012935 Z\" />\n  </svg>\n)\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M14.2884629,14.2931716 C14.1097429,14.4722267 14,14.7186945 14,14.990778 L14,20 L16,20 L16,16 L20,16 L20,14 L14.990778,14 C14.7223751,14 14.4759332,14.1106894 14.2959709,14.2898855 L14.2884629,14.2931716 Z M16,8 L16,4 L14,4 L14,9.00922203 C14,9.28130552 14.1097429,9.52777327 14.2884629,9.70682845 C14.4759332,9.88931059 14.7223751,10 14.990778,10 L20,10 L20,8 L16,8 Z M8,16 L8,20 L10,20 L10,14.990778 C10,14.7186945 9.89025712,14.4722267 9.71153715,14.2931716 C9.52406685,14.1106894 9.27762494,14 9.00922203,14 L4,14 L4,16 L8,16 L8,16 Z M9.71153715,9.70682845 C9.89025712,9.52777327 10,9.28130552 10,9.00922203 L10,4 L8,4 L8,8 L4,8 L4,10 L9.00922203,10 C9.27762494,10 9.52406685,9.88931059 9.70402912,9.71011452 L9.71153715,9.70682845 Z\" />\n  </svg>\n)\n","import React from 'react'\n\nexport default (\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M5,12.0119396 L5,14.5238791 L8.33098415,14.5238791 L8.33098415,14.5238791 C8.39017333,14.520451 8.4497727,14.5223174 8.50904598,14.5296109 C8.72475585,14.5524598 8.91816198,14.6424266 9.06920843,14.7779841 L13,17.4293365 L13,12.0119396 L13,6.59454265 L9.06920843,9.24589504 C8.91816198,9.38145255 8.72475585,9.47141933 8.50904598,9.49426822 C8.4497727,9.50156175 8.39017333,9.5034281 8.33098415,9.5 L8.33098415,9.5 L5,9.5 L5,12.0119396 Z M3,12.0119396 L3,8.50157356 C3,8.2247344 3.11117675,7.97412842 3.29196292,7.79283868 C3.46994918,7.61192872 3.71994909,7.5 4.00000001,7.5 L8.08102098,7.5 L13.3535806,3.94361361 C13.5372091,3.81975463 13.7472793,3.76538554 13.9529683,3.77494994 C13.9685502,3.77423867 13.98423,3.77387913 14,3.77387913 C14.5522847,3.77387913 15,4.21934183 15,4.77259008 L15,12.0119396 L15,19.251289 C15,19.8045373 14.5522847,20.25 14,20.25 C13.98423,20.25 13.9685502,20.2496405 13.9529683,20.2489292 C13.7472793,20.2584936 13.5372091,20.2041245 13.3535806,20.0802655 L8.08102098,16.5238791 L4.00000001,16.5238791 C3.71994909,16.5238791 3.46994918,16.4119504 3.29196292,16.2310404 C3.11117675,16.0497507 3,15.7991447 3,15.5223056 L3,12.0119396 Z M17.5059844,15.7803571 L17.5,15.7726628 C18.6746368,14.8577452 19.4301566,13.4299638 19.4301566,11.8257212 C19.4301566,10.2214787 18.6746368,8.79369726 17.5,7.87877967 L17.5067574,7.87009164 C17.2041341,7.69816923 17,7.37292366 17,7 C17,6.44771525 17.4477153,6 18,6 C18.2836948,6 18.5397977,6.11813499 18.721799,6.30789526 L18.7279374,6.30000305 C20.3724289,7.58088767 21.4301566,9.57978168 21.4301566,11.8257212 C21.4301566,14.0716608 20.3724289,16.0705548 18.7279374,17.3514394 L18.7211832,17.3427554 C18.5392202,17.5321404 18.283375,17.6500092 18,17.6500092 C17.4477153,17.6500092 17,17.2022939 17,16.6500092 C17,16.2774031 17.2037866,15.9523939 17.5059844,15.7803571 L17.5059844,15.7803571 Z\" />\n  </svg>\n)\n","import React from 'react'\nimport {css} from 'aphrodite/no-important'\nimport styles from '../styles'\nimport Icon from '../../Icon'\nimport * as icons from '../../Icon/icons/controller'\n\nconst PlayButtonItem = ({isPlaying, onClick}) => (\n  <div className={css(styles.toggle)}>\n    <button className={css(styles.button)} onClick={onClick}>\n      <Icon icon={isPlaying ? icons.pause : icons.play} />\n    </button>\n  </div>\n)\n\nexport default PlayButtonItem\n","import clamp from 'lodash/clamp'\n\nexport default function calculatePercentage(value, total) {\n  if (!total) {\n    return `0%`\n  }\n  return `${clamp(value / total, 0, 1) * 100}%`\n}\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({\n  root: {\n    overflow: 'hidden',\n    userSelect: 'none',\n    cursor: 'pointer',\n    touchAction: 'none',\n    WebkitTapHighlightColor: 'transparent',\n\n    ':focus': {\n      outline: 'none',\n    },\n  },\n\n  inner: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    width: '100%',\n    height: '100%',\n  },\n\n  track: {\n    position: 'relative',\n    flex: 1,\n    overflow: 'hidden',\n    backgroundColor: 'rgba(255, 255, 255, 0.3)',\n    borderRadius: '2px',\n  },\n\n  bar: {\n    position: 'absolute',\n    backgroundColor: '#fff',\n    borderRadius: '2px 0 0 2px',\n  },\n\n  thumbWrapper: {\n    position: 'absolute',\n  },\n\n  thumb: {\n    width: '1em',\n    height: '1em',\n    margin: '-0.5em',\n    borderRadius: '50%',\n    backgroundColor: '#fff',\n  },\n})\n\nexport const horizontal = StyleSheet.create({\n  root: {\n    height: '1em',\n    padding: `0 0.5em`,\n  },\n\n  inner: {\n    flexDirection: 'row',\n  },\n\n  track: {\n    height: 4,\n  },\n\n  bar: {\n    top: 0,\n    bottom: 0,\n  },\n\n  thumbWrapper: {\n    top: '50%',\n  },\n})\n\nexport const vertical = StyleSheet.create({\n  root: {\n    width: '1em',\n    padding: `0.5em 0`,\n  },\n\n  inner: {\n    flexDirection: 'column',\n  },\n\n  track: {\n    width: 4,\n  },\n\n  bar: {\n    left: 0,\n    right: 0,\n  },\n\n  thumbWrapper: {\n    left: '50%',\n  },\n})\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {css} from 'aphrodite/no-important'\nimport clamp from 'lodash/clamp'\n\nimport formatPercent from '../../utils/formatPercent'\nimport KeyCode from '../../constants/KeyCode'\n\nimport styles, {\n  horizontal as horizontalStyles,\n  vertical as verticalStyles,\n} from './styles'\n\nclass Slider extends Component {\n  static propTypes = {\n    orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n    reverse: PropTypes.bool,\n    value: PropTypes.number,\n    buffered: PropTypes.number,\n    total: PropTypes.number,\n    step: PropTypes.number,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onChange: PropTypes.func,\n    noInteraction: PropTypes.bool, // 不可交互\n  }\n\n  static defaultProps = {\n    orientation: 'horizontal',\n    reverse: false,\n    value: 0,\n    buffered: 0,\n    total: 0,\n    step: 1,\n  }\n\n  state = {\n    isSlideActive: false,\n    isSliding: false,\n    slidingValue: null,\n  }\n\n  // refs\n  trackRef = React.createRef()\n\n  registerEvents() {\n    document.addEventListener('mousemove', this.handleDragMove)\n    document.addEventListener('mouseup', this.handleDragEnd)\n  }\n\n  unregisterEvents() {\n    document.removeEventListener('mousemove', this.handleDragMove)\n    document.removeEventListener('mouseup', this.handleDragEnd)\n  }\n\n  getVariantStyleSheet() {\n    const {orientation} = this.props\n    return orientation === 'horizontal' ? horizontalStyles : verticalStyles\n  }\n\n  getStyles(name) {\n    let customStyles = this.props.styles\n    if (!Array.isArray(customStyles)) {\n      customStyles = [customStyles]\n    }\n    customStyles = customStyles.filter(Boolean)\n\n    return [\n      styles[name],\n      this.getVariantStyleSheet()[name],\n      ...customStyles.map(item => item[name]),\n    ]\n  }\n\n  getClassName(...names) {\n    return css(\n      ...Array.prototype.concat.apply(\n        [],\n        names.map(name => this.getStyles(name))\n      )\n    )\n  }\n\n  getAlignKey() {\n    const {orientation, reverse} = this.props\n    if (orientation === 'horizontal') {\n      return reverse ? 'right' : 'left'\n    } else {\n      return reverse ? 'top' : 'bottom'\n    }\n  }\n\n  getSizeKey() {\n    const {orientation} = this.props\n    return orientation === 'horizontal' ? 'width' : 'height'\n  }\n\n  getPercentage() {\n    const {value, total} = this.props\n    const {isSlideActive, slidingValue} = this.state\n    return formatPercent(isSlideActive ? slidingValue : value, total)\n  }\n\n  getBufferedPercentage() {\n    const {buffered, total} = this.props\n    return formatPercent(buffered, total)\n  }\n\n  getSlidingValue(event) {\n    const {orientation, reverse, total} = this.props\n    const track = this.trackRef.current\n    if (!track) return 0\n    const rect = track.getBoundingClientRect()\n\n    let value\n    if (orientation === 'horizontal') {\n      value = (event.clientX - rect.left) / rect.width\n    } else {\n      value = (rect.bottom - event.clientY) / rect.height\n    }\n    value = clamp(value, 0, 1)\n    if (reverse) {\n      value = 1 - value\n    }\n\n    return value * total\n  }\n\n  handleKeyDown = event => {\n    const {reverse, value, total, step} = this.props\n\n    let direction = 0\n    if (event.keyCode === KeyCode.LEFT || event.keyCode === KeyCode.DOWN) {\n      direction = -1\n    }\n    if (event.keyCode === KeyCode.RIGHT || event.keyCode === KeyCode.UP) {\n      direction = 1\n    }\n    if (reverse) {\n      direction = -direction\n    }\n\n    const result = clamp(value + step * direction, 0, total)\n    if (result !== value) {\n      event.preventDefault()\n      this.handleChange(result)\n    }\n  }\n\n  handleDragStart = event => {\n    if (event.button !== 0) return\n\n    const value = this.getSlidingValue(event)\n    this.setState({\n      isSlideActive: true,\n      slidingValue: value,\n    })\n\n    const {onDragStart} = this.props\n    if (onDragStart) {\n      onDragStart()\n    }\n    this.handleChange(value)\n\n    this.registerEvents()\n  }\n\n  handleDragMove = event => {\n    const value = this.getSlidingValue(event)\n    this.setState({\n      slidingValue: value,\n      isSliding: true,\n    })\n\n    this.handleChange(value)\n  }\n\n  handleDragEnd = event => {\n    this.unregisterEvents()\n\n    const {onDragEnd} = this.props\n    if (onDragEnd) {\n      onDragEnd()\n    }\n\n    if (this.state.isSliding) {\n      // 点击动作不需要重复触发 change event\n      this.handleChange(this.getSlidingValue(event))\n    }\n\n    this.setState({\n      isSlideActive: false,\n      slidingValue: null,\n      isSliding: false,\n    })\n  }\n\n  handleChange = value => {\n    const {onChange} = this.props\n    if (onChange) {\n      onChange(value)\n    }\n  }\n\n  render() {\n    const {buffered, onFocus, onBlur, noInteraction} = this.props\n    const {isSlideActive} = this.state\n    const interactionProps = noInteraction\n      ? {}\n      : {\n          tabIndex: 0,\n          onFocus,\n          onBlur,\n          onKeyDown: this.handleKeyDown,\n          onMouseDown: this.handleDragStart,\n        }\n    return (\n      <div className={this.getClassName('root')} {...interactionProps}>\n        <div className={this.getClassName('inner')}>\n          <div ref={this.trackRef} className={this.getClassName('track')}>\n            {Boolean(buffered) && (\n              <div\n                className={this.getClassName('bar', 'buffered')}\n                style={{\n                  [this.getAlignKey()]: 0,\n                  [this.getSizeKey()]: this.getBufferedPercentage(),\n                }}\n              />\n            )}\n            <div\n              className={this.getClassName('bar')}\n              style={{\n                [this.getAlignKey()]: 0,\n                [this.getSizeKey()]: this.getPercentage(),\n              }}\n            />\n          </div>\n          {!noInteraction && (\n            <div\n              className={this.getClassName('thumbWrapper')}\n              style={{[this.getAlignKey()]: this.getPercentage()}}\n            >\n              <div\n                className={this.getClassName(\n                  'thumb',\n                  isSlideActive && 'thumbSliding'\n                )}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Slider\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({})\n\nexport const slider = StyleSheet.create({\n  root: {\n    height: 40,\n  },\n\n  track: {\n    transition: 'transform 300ms',\n  },\n\n  bar: {\n    backgroundColor: '#0f88eb',\n  },\n\n  thumb: {\n    transform: 'scale(0)',\n    transition: 'transform 300ms',\n  },\n\n  buffered: {\n    backgroundColor: 'rgba(255, 255, 255, 0.6)',\n    borderRadius: '2px 0 0 2px',\n  },\n})\n\nexport const hoveredSlider = StyleSheet.create({\n  thumb: {\n    transform: 'scale(1)',\n  },\n})\n\nexport const minimal = StyleSheet.create({\n  root: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    padding: 0,\n    height: '3px',\n  },\n\n  track: {\n    borderRadius: 0,\n  },\n\n  thumb: {\n    display: 'none',\n  },\n\n  buffered: {\n    backgroundColor: 'rgba(255, 255, 255, 0.3)',\n    borderRadius: '2px 0 0 2px',\n  },\n})\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {css} from 'aphrodite/no-important'\n\nimport Slider from '../Slider'\n\nimport styles, {\n  slider as sliderStyles,\n  hoveredSlider as hoveredSliderStyles,\n} from './styles'\n\nclass Timeline extends Component {\n  static propTypes = {\n    onDragStart: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onChange: PropTypes.func,\n    onSeek: PropTypes.func,\n  }\n\n  state = {\n    isHovered: false,\n    isFocused: false,\n    isDragging: false,\n  }\n\n  // refs\n  root = null\n\n  handlePointerEnter = () => {\n    this.setState({isHovered: true})\n  }\n\n  handlePointerLeave = () => {\n    this.setState({isHovered: false, isFocused: false})\n  }\n\n  handleFocus = () => {\n    this.setState({isFocused: true})\n  }\n\n  handleBlur = () => {\n    this.setState({isFocused: false})\n  }\n\n  handleDragStart = () => {\n    this.setState({isDragging: true})\n\n    const {onDragStart} = this.props\n    if (onDragStart) {\n      onDragStart()\n    }\n  }\n\n  handleDragEnd = () => {\n    this.setState({isDragging: false})\n\n    const {onDragEnd} = this.props\n    if (onDragEnd) {\n      onDragEnd()\n    }\n  }\n\n  handleChange = value => {\n    const {onSeek, onChange} = this.props\n    if (onSeek && value !== this.props.value) {\n      onChange(value)\n    }\n    if (this.state.isDragging) return\n    if (onSeek) {\n      onSeek(value)\n    }\n  }\n\n  render() {\n    const {isHovered, isFocused, isDragging} = this.state\n    return (\n      <div\n        className={css(styles.root)}\n        onMouseEnter={this.handlePointerEnter}\n        onMouseLeave={this.handlePointerLeave}\n      >\n        <Slider\n          {...this.props}\n          styles={[\n            sliderStyles,\n            (isHovered || isFocused || isDragging) && hoveredSliderStyles,\n          ]}\n          onFocus={this.handleFocus}\n          onBlur={this.handleBlur}\n          onDragStart={this.handleDragStart}\n          onDragEnd={this.handleDragEnd}\n          onChange={this.handleChange}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Timeline\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\n\nimport Slider from '../Slider'\n\nimport {slider, minimal} from './styles'\n\nclass MinimalTimeline extends Component {\n  static propTypes = {\n    duration: PropTypes.number.isRequired,\n    currentTime: PropTypes.number.isRequired,\n    buffered: PropTypes.number.isRequired,\n    show: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    duration: 0,\n    currentTime: 0,\n    buffered: 0,\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return this.props.show || nextProps.show\n  }\n\n  render() {\n    const {duration, currentTime, buffered} = this.props\n    return (\n      <Slider\n        value={currentTime}\n        total={duration}\n        buffered={buffered}\n        styles={[slider, minimal]}\n        noInteraction\n      />\n    )\n  }\n}\n\nexport default MinimalTimeline\n","import React from 'react'\nimport {css} from 'aphrodite/no-important'\nimport styles from '../styles'\nimport Timeline from '../../Timeline'\n\nconst TimelineItem = props => (\n  <div className={css(styles.timeline)}>\n    <Timeline {...props} />\n  </div>\n)\n\nexport default TimelineItem\n","import React from 'react'\nimport {css} from 'aphrodite/no-important'\nimport styles from '../styles'\nimport Time from '../../Time'\n\nconst CombinedTimeItem = ({isFullScreen, currentTime, duration}) => (\n  <div className={css(styles.time, isFullScreen && styles.fullScreenedTime)}>\n    <div className={css(styles.timeText)}>\n      <Time value={currentTime} />\n      {' / '}\n      <Time value={duration} />\n    </div>\n  </div>\n)\n\nexport default CombinedTimeItem\n","/**\n * reverse an array without mutating the original one\n */\nexport default arr => arr.slice().reverse()\n","import React from 'react'\n\nconst LocaleContext = React.createContext('en')\nLocaleContext.displayName = 'LocaleContext'\n\nexport default LocaleContext\n","export default {\n  en: {\n    'quality-auto': 'Auto',\n    'quality-ld': 'LD',\n    'quality-sd': 'SD',\n    'quality-hd': 'HD',\n    'action-enter-fullscreen': 'Fullscreen',\n    'action-exit-fullscreen': 'Exit Fullscreen',\n  },\n  ja: {\n    'quality-auto': '自動',\n    'quality-ld': '低画質',\n    'quality-sd': '標準画質',\n    'quality-hd': '高画質',\n    'action-enter-fullscreen': '全画面',\n    'action-exit-fullscreen': '全画面終了',\n  },\n  // covers zh-Hans-CN and zh-Hans-SG\n  'zh-Hans': {\n    'quality-auto': '自动',\n    'quality-ld': '低清',\n    'quality-sd': '标清',\n    'quality-hd': '超清',\n    'action-enter-fullscreen': '全屏',\n    'action-exit-fullscreen': '退出全屏',\n  },\n  // covers zh-Hant-HK and zh-Hant-TW\n  'zh-Hant': {\n    'quality-auto': '自動',\n    'quality-ld': '低畫質',\n    'quality-sd': '標準畫質',\n    'quality-hd': '高畫質',\n    'action-enter-fullscreen': '全螢幕',\n    'action-exit-fullscreen': '結束全螢幕',\n  },\n}\n","import React from 'react'\nimport {LocaleContext} from '../../contexts/Locale'\nimport strings from './strings'\n\nconst TranslatedText = ({name}) => (\n  <LocaleContext.Consumer>\n    {locale => strings[locale][name]}\n  </LocaleContext.Consumer>\n)\n\nexport default TranslatedText\n","import React from 'react'\nimport {css} from 'aphrodite/no-important'\n\nimport {VideoSourceContext} from '../../../contexts/VideoSource'\nimport reverseArray from '../../../utils/reverseArray'\nimport TranslatedText from '../../TranslatedText'\n\nimport styles from '../styles'\n\nconst QUALITIES = {\n  auto: 'quality-auto',\n  ld: 'quality-ld',\n  sd: 'quality-sd',\n  hd: 'quality-hd',\n}\n\nclass QualityMenuItem extends React.PureComponent {\n  state = {\n    isQualityHovered: false,\n  }\n\n  handleQualityPointerEnter = () => {\n    this.setState({isQualityHovered: true})\n  }\n\n  handleQualityPointerLeave = () => {\n    this.setState({isQualityHovered: false})\n  }\n\n  render() {\n    const {isQualityHovered} = this.state\n    return (\n      <VideoSourceContext.Consumer>\n        {({qualities, setCurrentQuality, currentQuality}) =>\n          qualities.length > 1 && (\n            <div\n              className={css(styles.menuContainer)}\n              onMouseEnter={this.handleQualityPointerEnter}\n              onMouseLeave={this.handleQualityPointerLeave}\n            >\n              <button className={css(styles.button, styles.qualityButton)}>\n                <span className={css(styles.qualityButtonText)}>\n                  <TranslatedText name={QUALITIES[currentQuality]} />\n                </span>\n              </button>\n              <div\n                className={css(\n                  styles.menu,\n                  isQualityHovered && styles.menuShown\n                )}\n              >\n                <div className={css(styles.qualityMenu)}>\n                  {reverseArray(qualities).map(q => (\n                    <button\n                      key={q}\n                      className={css(\n                        styles.qualityMenuItem,\n                        currentQuality === q && styles.qualityMenuActiveItem\n                      )}\n                      onClick={() => setCurrentQuality(q)}\n                    >\n                      <TranslatedText name={QUALITIES[q]} />\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )\n        }\n      </VideoSourceContext.Consumer>\n    )\n  }\n}\n\nexport default QualityMenuItem\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({\n  root: {\n    padding: '0.375em 0',\n  },\n})\n\nexport const slider = StyleSheet.create({\n  root: {\n    width: '2.5em',\n    height: '4em',\n  },\n\n  track: {\n    margin: '-0.4em 0',\n    // 之前是 -0.5em（thumb 的半径），是为了在 0 或 100% 的情况下，让 thumb 的边缘和 track 的边缘平齐\n    // 因为下面缩放了 0.8 所以改为 0.5em * 0.8 = 0.4em\n    // workaround for bug with overflow: hidden; in chrome\n    transform: 'translate3d(0, 0, 0)',\n  },\n\n  thumb: {\n    transform: 'scale(0.8)',\n    transition: 'transform 300ms',\n\n    ':hover': {\n      transform: 'scale(1)',\n    },\n  },\n\n  thumbSliding: {\n    transform: 'scale(1)',\n  },\n})\n","import React, {Component} from 'react'\nimport {css} from 'aphrodite/no-important'\n\nimport Slider from '../Slider'\n\nimport styles, {slider as sliderStyles} from './styles'\n\nclass VolumeSlider extends Component {\n  render() {\n    return (\n      <div className={css(styles.root)}>\n        <Slider\n          {...this.props}\n          styles={sliderStyles}\n          orientation=\"vertical\"\n          step={0.1}\n        />\n      </div>\n    )\n  }\n}\n\nexport default VolumeSlider\n","import React from 'react'\nimport {css} from 'aphrodite/no-important'\nimport VolumeSlider from '../../VolumeSlider'\nimport Icon from '../../Icon'\nimport * as icons from '../../Icon/icons/controller'\nimport styles from '../styles'\n\nconst VolumeItem = ({\n  volume,\n  menuShown,\n  onMouseEnter,\n  onMouseLeave,\n  onDragStart,\n  onDragEnd,\n  onChange,\n  onToggleMuted,\n}) => (\n  <div\n    className={css(styles.menuContainer)}\n    onMouseEnter={onMouseEnter}\n    onMouseLeave={onMouseLeave}\n  >\n    <button className={css(styles.button)} onClick={onToggleMuted}>\n      <Icon icon={volume === 0 ? icons.muted : icons.volume} />\n    </button>\n    <div className={css(styles.menu, menuShown && styles.menuShown)}>\n      <VolumeSlider\n        value={volume}\n        total={1}\n        onDragStart={onDragStart}\n        onDragEnd={onDragEnd}\n        onChange={onChange}\n      />\n    </div>\n  </div>\n)\n\nexport default VolumeItem\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({\n  root: {\n    padding: '0.25em 0.5em',\n    fontSize: '0.875em',\n    whiteSpace: 'nowrap',\n    color: '#fff',\n  },\n})\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {css} from 'aphrodite/no-important'\nimport TranslatedText from '../TranslatedText'\n\nimport styles from './styles'\n\nclass Tooltip extends Component {\n  static propTypes = {\n    content: PropTypes.string.isRequired,\n  }\n\n  render() {\n    const {content} = this.props\n    return (\n      <div className={css(styles.root)}>\n        <TranslatedText name={content} />\n      </div>\n    )\n  }\n}\n\nexport default Tooltip\n","import React from 'react'\nimport {sequence} from 'griffith-utils'\nimport noop from 'lodash/noop'\n\nexport default class Hover extends React.Component {\n  state = {\n    isHovered: false,\n  }\n\n  handlePointerEnter = () => {\n    this.setState({isHovered: true})\n  }\n\n  handlePointerLeave = () => {\n    this.setState({isHovered: false})\n  }\n\n  render() {\n    const {onMouseEnter, onMouseLeave, children, ...rest} = this.props\n    const {isHovered} = this.state\n    return (\n      <div\n        {...rest}\n        onMouseEnter={sequence(this.handlePointerEnter, onMouseEnter || noop)}\n        onMouseLeave={sequence(this.handlePointerLeave, onMouseLeave || noop)}\n      >\n        {children(isHovered)}\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport {css} from 'aphrodite/no-important'\nimport {ua} from 'griffith-utils'\nimport styles from '../styles'\nimport Icon from '../../Icon'\nimport * as icons from '../../Icon/icons/controller'\nimport Tooltip from '../../Tooltip'\nimport Hover from '../../Hover'\n\nconst {isMobile} = ua\n\nconst FullScreenButtonItem = ({isFullScreen, onClick}) => (\n  <Hover className={css(styles.menuContainer)}>\n    {isFullScreenHovered => (\n      <React.Fragment>\n        <button className={css(styles.button)} onClick={onClick}>\n          <Icon icon={isFullScreen ? icons.smallscreen : icons.fullscreen} />\n        </button>\n        <div\n          className={css(\n            styles.fullScreenTooltip,\n            styles.menu,\n            isFullScreenHovered && styles.menuShown,\n            isFullScreen && styles.fullScreenTooltipWide\n          )}\n        >\n          {!isMobile && (\n            <Tooltip\n              content={\n                isFullScreen\n                  ? 'action-exit-fullscreen'\n                  : 'action-enter-fullscreen'\n              }\n            />\n          )}\n        </div>\n      </React.Fragment>\n    )}\n  </Hover>\n)\n\nexport default FullScreenButtonItem\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {css} from 'aphrodite/no-important'\nimport debounce from 'lodash/debounce'\nimport clamp from 'lodash/clamp'\n\nimport KeyCode from '../../constants/KeyCode'\nimport PlayButtonItem from './items/PlayButtonItem'\nimport TimelineItem from './items/TimelineItem'\nimport CombinedTimeItem from './items/CombinedTimeItem'\nimport QualityMenuItem from './items/QualityMenuItem'\nimport VolumeItem from './items/VolumeItem'\nimport FullScreenButtonItem from './items/FullScreenButtonItem'\n\nimport styles from './styles'\n\nclass Controller extends Component {\n  static propTypes = {\n    standalone: PropTypes.bool,\n    isPlaying: PropTypes.bool,\n    duration: PropTypes.number,\n    currentTime: PropTypes.number,\n    volume: PropTypes.number,\n    buffered: PropTypes.number,\n    isFullScreen: PropTypes.bool,\n    onDragStart: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    onSeek: PropTypes.func,\n    onQualityChange: PropTypes.func,\n    onVolumeChange: PropTypes.func,\n    onToggleFullScreen: PropTypes.func,\n    show: PropTypes.bool,\n    hiddenQualityMenu: PropTypes.bool,\n    hiddenVolumeItem: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    standalone: false,\n    isPlaying: false,\n    duration: 0,\n    currentTime: 0,\n    volume: 0.5,\n    buffered: 0,\n    isFullScreen: false,\n    hiddenVolumeItem: false,\n    hiddenQualityMenu: false,\n  }\n\n  state = {\n    isVolumeHovered: false,\n    isVolumeDragging: false,\n    isVolumeKeyboard: false,\n  }\n  prevVolume = 1\n  firstKey = true\n  slideTime = null\n\n  componentDidMount() {\n    if (this.props.standalone) {\n      document.addEventListener('keydown', this.handleKeyDown)\n      document.addEventListener('keyup', this.handleKeyUp)\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return this.props.show || nextProps.show\n  }\n\n  componentWillUnmount() {\n    if (this.props.standalone) {\n      document.removeEventListener('keydown', this.handleKeyDown)\n      document.removeEventListener('keyup', this.handleKeyUp)\n    }\n  }\n\n  onDragMove = slideTime => {\n    const {duration} = this.props\n    slideTime = clamp(slideTime, 0, duration)\n    this.setState({slideTime})\n  }\n\n  handleToggle = type => {\n    const {isPlaying, onPlay, onPause} = this.props\n    if (!isPlaying && onPlay) {\n      onPlay(type)\n    }\n    if (isPlaying && onPause) {\n      onPause(type)\n    }\n  }\n\n  handleSeek = currentTime => {\n    const {duration, onSeek} = this.props\n    currentTime = clamp(currentTime, 0, duration)\n    if (onSeek) {\n      onSeek(currentTime)\n      this.setState({slideTime: null})\n    }\n  }\n\n  handleVolumeChange = volume => {\n    volume = clamp(volume, 0, 1)\n    const {onVolumeChange} = this.props\n    if (onVolumeChange) {\n      onVolumeChange(volume)\n    }\n  }\n\n  handleToggleMuted = () => {\n    const {volume} = this.props\n    if (volume) {\n      this.prevVolume = volume\n    }\n    this.handleVolumeChange(volume ? 0 : this.prevVolume)\n  }\n\n  handleVolumePointerEnter = () => {\n    this.setState({isVolumeHovered: true})\n  }\n\n  handleVolumePointerLeave = () => {\n    this.setState({isVolumeHovered: false})\n  }\n\n  handleVolumeDragStart = () => {\n    const {volume} = this.props\n    if (volume) {\n      this.prevVolume = volume\n    }\n\n    this.setState({isVolumeDragging: true})\n\n    const {onDragStart} = this.props\n    if (onDragStart) {\n      onDragStart()\n    }\n  }\n\n  handleVolumeDragEnd = () => {\n    this.setState({isVolumeDragging: false})\n\n    const {onDragEnd} = this.props\n    if (onDragEnd) {\n      onDragEnd()\n    }\n  }\n\n  handleKeyDown = event => {\n    const {duration, currentTime, volume, show, onToggleFullScreen} = this.props\n    let handled = true\n    switch (event.keyCode) {\n      case KeyCode.SPACE:\n      case KeyCode.K:\n        if (this.firstKey) {\n          this.handleToggle('keyCode')\n        }\n        break\n\n      case KeyCode.ENTER:\n      case KeyCode.F:\n        if (this.firstKey) {\n          onToggleFullScreen()\n        }\n        break\n\n      case KeyCode.LEFT:\n        this.handleSeek(currentTime - 5)\n        break\n\n      case KeyCode.RIGHT:\n        this.handleSeek(currentTime + 5)\n        break\n\n      case KeyCode.J:\n        if (this.firstKey) {\n          this.handleSeek(currentTime - 10)\n        }\n        break\n\n      case KeyCode.L:\n        if (this.firstKey) {\n          this.handleSeek(currentTime + 10)\n        }\n        break\n      case KeyCode.ZERO:\n      case KeyCode.ONE:\n      case KeyCode.TWO:\n      case KeyCode.THREE:\n      case KeyCode.FOUR:\n      case KeyCode.FIVE:\n      case KeyCode.SIX:\n      case KeyCode.SEVEN:\n      case KeyCode.EIGHT:\n      case KeyCode.NINE:\n        if (show && this.firstKey) {\n          const nextTime = (duration / 10) * (event.keyCode - KeyCode.ZERO)\n          this.handleSeek(nextTime)\n        }\n        break\n\n      case KeyCode.M:\n        if (this.firstKey) {\n          this.handleToggleMuted()\n        }\n        break\n      case KeyCode.UP:\n        if (this.firstKey && volume) {\n          this.prevVolume = volume\n        }\n        this.setState({\n          isVolumeKeyboard: true,\n        })\n        this.handleVolumeChange(volume + 0.05)\n        break\n\n      case KeyCode.DOWN:\n        if (this.firstKey && volume) {\n          this.prevVolume = volume\n        }\n        this.handleVolumeChange(volume - 0.05)\n        break\n\n      default:\n        handled = false\n        break\n    }\n    if (handled) {\n      event.preventDefault()\n    }\n    this.firstKey = false\n  }\n\n  handleKeyUp = event => {\n    this.firstKey = true\n\n    switch (event.keyCode) {\n      case KeyCode.UP:\n      case KeyCode.DOWN:\n        this.handleVolumeKeyboard()\n        break\n    }\n  }\n\n  handleVolumeKeyboard = debounce(() => {\n    this.setState({\n      isVolumeKeyboard: false,\n    })\n  }, 1000)\n\n  render() {\n    const {\n      isPlaying,\n      buffered,\n      duration,\n      currentTime,\n      volume,\n      isFullScreen,\n      onDragStart,\n      onDragEnd,\n      onToggleFullScreen,\n      hiddenVolumeItem,\n      hiddenQualityMenu,\n    } = this.props\n    const {\n      isVolumeHovered,\n      isVolumeDragging,\n      isVolumeKeyboard,\n      slideTime,\n    } = this.state\n\n    const displayedCurrentTime = slideTime || currentTime\n    return (\n      <div className={css(styles.root, isFullScreen && styles.fullScreened)}>\n        <PlayButtonItem\n          isPlaying={isPlaying}\n          onClick={() => this.handleToggle('button')}\n        />\n        <TimelineItem\n          value={currentTime}\n          total={duration}\n          buffered={buffered}\n          onDragStart={onDragStart}\n          onDragEnd={onDragEnd}\n          onChange={this.onDragMove}\n          onSeek={this.handleSeek}\n        />\n        <CombinedTimeItem\n          isFullScreen={isFullScreen}\n          currentTime={displayedCurrentTime}\n          duration={duration}\n        />\n        {!hiddenQualityMenu && <QualityMenuItem />}\n        {!hiddenVolumeItem && (\n          <VolumeItem\n            volume={volume}\n            menuShown={isVolumeHovered || isVolumeDragging || isVolumeKeyboard}\n            onMouseEnter={this.handleVolumePointerEnter}\n            onMouseLeave={this.handleVolumePointerLeave}\n            onToggleMuted={this.handleToggleMuted}\n            onDragStart={this.handleVolumeDragStart}\n            onDragEnd={this.handleVolumeDragEnd}\n            onChange={this.handleVolumeChange}\n          />\n        )}\n        <FullScreenButtonItem\n          isFullScreen={isFullScreen}\n          onClick={onToggleFullScreen}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Controller\n","export default function getBufferedTime(currentTime, buffered) {\n  const item = buffered.find(\n    item => item.start <= currentTime && currentTime <= item.end\n  )\n  if (item) {\n    return item.end\n  }\n  return 0\n}\n","import memoize from 'lodash/memoize'\n\nconst compatibleStorage = {\n  store: {},\n  setItem(key, value) {\n    this.store[key] = value\n  },\n  removeItem(key) {\n    return delete this.store[key]\n  },\n  getItem(key) {\n    return this.store[key]\n  },\n}\n\nconst storage = {\n  isSupported: memoize(() => {\n    try {\n      const testSupport = {\n        key: '__test_support_key__',\n        value: '__test_support_value__',\n      }\n      const supported = Boolean(global.localStorage)\n      localStorage.setItem(testSupport.key, testSupport.value)\n      localStorage.removeItem(testSupport.key)\n      return supported\n    } catch (err) {\n      return false\n    }\n  }),\n\n  getStorage: memoize(() =>\n    storage.isSupported() ? localStorage : compatibleStorage\n  ),\n\n  set(key, value) {\n    storage.getStorage().setItem(key, JSON.stringify(value))\n  },\n\n  get(key) {\n    try {\n      const value = storage.getStorage().getItem(key)\n      return JSON.parse(value)\n    } catch (error) {\n      return null\n    }\n  },\n\n  delete(key) {\n    storage.getStorage().removeItem(key)\n  },\n}\n\nexport default storage\n","import {StyleSheet} from 'aphrodite/no-important'\n\nconst actionAnimation = {\n  '0%': {\n    opacity: 0,\n    transform: 'scale(0)',\n  },\n\n  '50%': {\n    opacity: 0.6,\n    transform: 'scale(0.8)',\n  },\n\n  '100%': {\n    opacity: 0,\n    transform: 'scale(1)',\n  },\n}\n\nconst fadeinAnimation = {\n  '0%': {\n    opacity: 0,\n  },\n\n  '100%': {\n    opacity: 1,\n  },\n}\n\nconst breakpoints = {\n  mobile: '26em', // 416px\n}\n\nconst breakTo = breakpoint =>\n  `@media screen and (max-width: ${breakpoints[breakpoint]})`\n\nexport default StyleSheet.create({\n  root: {\n    position: 'relative',\n    overflow: 'hidden',\n    userSelect: 'none',\n    width: '100%',\n    height: '100%',\n    fontSize: 16,\n    backgroundColor: '#000',\n\n    ':focus': {\n      outline: 'none',\n    },\n  },\n\n  fullScreened: {\n    fontSize: 24,\n  },\n\n  actionButton: {\n    width: '4.5em',\n    height: '4.5em',\n  },\n\n  actionButtonAnimated: {\n    animationName: actionAnimation,\n    animationDuration: '600ms',\n    animationFillMode: 'both',\n  },\n\n  actionIcon: {\n    width: '4.5em',\n    height: '4.5em',\n\n    [breakTo('mobile')]: {\n      transform: 'scale(0.75)',\n    },\n  },\n\n  video: {\n    width: '100%',\n    height: '100%',\n  },\n\n  overlay: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    overflow: 'hidden',\n  },\n\n  overlayMask: {\n    background: 'rgba(0, 0, 0, 0.08)',\n  },\n\n  loader: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    color: '#0f88eb',\n    transform: 'translate(-50%, -50%)',\n  },\n\n  action: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n\n  backdrop: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n  },\n\n  title: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    overflow: 'hidden',\n    padding: '0 1em',\n    lineHeight: 2.5,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    color: '#fff',\n    backgroundImage:\n      'linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.3))',\n    transform: 'translateY(-100%)',\n    transition: 'transform 300ms',\n  },\n\n  titleShown: {\n    transform: 'translateY(0)',\n  },\n\n  controller: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundImage:\n      'linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.3))',\n  },\n\n  cover: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    overflow: 'hidden',\n    backgroundColor: '#000',\n    cursor: 'pointer',\n    visibility: 'hidden',\n    opacity: 0,\n    transition: 'visibility 300ms, opacity 300ms',\n  },\n\n  coverShown: {\n    visibility: 'visible',\n    opacity: 1,\n  },\n\n  coverImage: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%',\n  },\n\n  coverTime: {\n    position: 'absolute',\n    right: '0.5em',\n    bottom: '0.5em',\n    padding: '0.375em',\n    fontSize: '0.875em',\n    lineHeight: 1,\n    color: 'rgba(255, 255, 255, 0.9)',\n    backgroundColor: 'transparent',\n    textShadow: '0 0 6px rgba(0, 0, 0, 0.4)',\n  },\n\n  coverTimeMobile: {\n    padding: 0,\n  },\n\n  coverAction: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n\n  coverReplayAction: {\n    position: 'absolute',\n    left: '0',\n    right: '0',\n    top: '0',\n    bottom: '0',\n    backgroundColor: 'rgba(0, 0, 0, 0.16)',\n    animationName: fadeinAnimation,\n    animationDuration: '600ms',\n    animationFillMode: 'both',\n  },\n\n  coverReplayButton: {\n    position: 'absolute',\n    left: '0',\n    right: '0',\n    top: '0',\n    bottom: '0',\n    height: '40px',\n    width: '116px',\n    margin: 'auto',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    borderRadius: '4px',\n    color: '#fff',\n    fontSize: '16px',\n    lineHeight: '24px',\n    padding: '8px',\n    boxSizing: 'border-box',\n    textAlign: 'center',\n    transition: 'transform 200ms, opacity 200ms',\n    willChange: 'transform',\n  },\n\n  coverReplayButtonHovered: {\n    transform: 'scale(1.1)',\n  },\n\n  coverReplayButtonPressed: {\n    opacity: '0.7',\n  },\n\n  replayIcon: {\n    verticalAlign: 'top',\n    marginRight: '4px',\n  },\n\n  error: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    overflow: 'hidden',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    color: '#fff',\n    backgroundColor: '#000',\n  },\n\n  errorIcon: {\n    width: '2.5em',\n    height: '2.5em',\n    margin: '0 auto',\n    fill: 'currentColor',\n  },\n\n  errorMessage: {\n    marginTop: '1em',\n    fontSize: '1.25em',\n    lineHeight: 1,\n    textAlign: 'center',\n  },\n})\nexport const hiddenOrShownStyle = StyleSheet.create({\n  base: {\n    transition: `opacity .5s ease-in-out, visibility .5s ease-in-out`,\n  },\n\n  hidden: {\n    opacity: 0,\n    visibility: 'hidden',\n  },\n\n  shown: {\n    opacity: 1,\n    visibility: 'visible',\n  },\n})\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {css} from 'aphrodite/no-important'\nimport BigScreen from 'isomorphic-bigscreen'\nimport {EVENTS, ACTIONS} from 'griffith-message'\nimport {ua} from 'griffith-utils'\n\nimport Time from '../Time'\nimport Icon from '../Icon'\nimport * as icons from '../Icon/icons/display'\nimport Loader from '../Loader'\nimport Video from '../Video'\nimport Controller from '../Controller'\nimport {MinimalTimeline} from '../Timeline'\nimport getBufferedTime from '../../utils/getBufferedTime'\nimport storage from '../../utils/storage'\nimport {ObjectFitContext} from '../../contexts/ObjectFit'\n\nimport styles, {hiddenOrShownStyle} from './styles'\n\nconst CONTROLLER_HIDE_DELAY = 3000\nconst {isMobile} = ua\n\nclass Player extends Component {\n  static propTypes = {\n    standalone: PropTypes.bool,\n    error: PropTypes.shape({\n      message: PropTypes.string,\n    }),\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    duration: PropTypes.number,\n    onEvent: PropTypes.func.isRequired,\n    onBeforePlay: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    standalone: false,\n    duration: 0,\n    autoplay: false,\n  }\n\n  state = {\n    isPlaybackStarted: false, // 开始播放的时候设置为 true，播放中途暂停仍然为 true，直到播放到最后停止的时候才会变成 false，\n    isNeverPlayed: true, // 用户第一次播放之后设置为 false，并且之后永远为 false\n    lastAction: null,\n    isDataLoaded: false,\n    isPlaying: false,\n    isLoading: false,\n    duration: 0,\n    currentTime: 0,\n    volume: 0.5,\n    buffered: [],\n    isControllerShown: false,\n    isControllerHovered: false,\n    isControllerDragging: false,\n    type: null,\n    hovered: false,\n    pressed: false,\n  }\n\n  isSeeking = false\n  showLoaderTimeout = null\n  hideControllerTimeout = null\n\n  // refs\n  playerRef = React.createRef()\n  videoRef = React.createRef()\n\n  static getDerivedStateFromProps = (props, state) => {\n    const {duration} = props\n\n    const shouldUpdateDuration = duration && !state.duration\n    const newDurationState = shouldUpdateDuration ? {duration} : null\n\n    return {...newDurationState}\n  }\n\n  componentDidMount() {\n    this.setDocumentTitle()\n\n    const historyVolume = storage.get('@griffith/history-volume')\n    if (historyVolume) {\n      this.setState({volume: historyVolume})\n    }\n\n    this.pauseActionSubscription = this.props.subscribeAction(\n      ACTIONS.PLAYER.PAUSE,\n      this.handlePauseAction\n    )\n\n    const {autoplay} = this.props\n    if (autoplay && this.videoRef.current.root) {\n      if (!this.videoRef.current.root.muted) {\n        // Muted autoplay is always allowed\n        this.handleVideoVolumeChange(0)\n      }\n\n      this.handlePlay('video')\n    }\n  }\n\n  componentDidUpdate() {\n    this.setDocumentTitle()\n  }\n\n  setDocumentTitle = () => {\n    const {title, standalone} = this.props\n\n    if (standalone && typeof title === 'string' && title !== document.title) {\n      document.title = title\n    }\n  }\n\n  componentWillUnmount() {\n    this.pauseActionSubscription.unsubscribe()\n  }\n\n  handlePauseAction = ({dontApplyOnFullScreen} = {}) => {\n    if (!this.state.isPlaying) return\n\n    if (dontApplyOnFullScreen && Boolean(BigScreen.element)) return\n\n    this.handlePause('button') // 通过这种方式暂停不会显示中间的图标\n  }\n\n  handleToggle = () => {\n    if (this.state.isPlaying) {\n      this.handlePause('video')\n    } else {\n      this.handlePlay('video')\n    }\n  }\n\n  handlePlay = (type = null) => {\n    const {onEvent, onBeforePlay} = this.props\n    onEvent(EVENTS.PLAYER.REQUEST_PLAY)\n    onBeforePlay()\n      .then(() => {\n        if (!this.state.isPlaybackStarted) {\n          onEvent(EVENTS.PLAYER.PLAY_COUNT)\n          this.setState({isPlaybackStarted: true})\n          if (!this.state.isDataLoaded) {\n            this.setState({isLoading: true})\n          }\n          // workaround a bug in IE about replaying a video.\n          if (this.state.currentTime !== 0) {\n            this.handleSeek(0)\n          }\n        } else {\n          this.setState({lastAction: 'play'})\n        }\n        this.setState({isPlaying: true, type, isNeverPlayed: false})\n      })\n      .catch(() => {\n        onEvent(EVENTS.PLAYER.PLAY_REJECTED)\n        // 播放被取消\n      })\n  }\n\n  handlePause = (type = null) => {\n    this.props.onEvent(EVENTS.PLAYER.REQUEST_PAUSE)\n    const {isLoading} = this.state\n\n    if (!isLoading) {\n      this.setState({\n        lastAction: 'pause',\n        isPlaying: false,\n        type,\n      })\n    }\n  }\n\n  handleVideoPlay = () => {\n    if (!this.state.isPlaying) {\n      this.setState({isPlaying: true})\n    }\n  }\n\n  handleVideoPause = () => {\n    if (this.state.isPlaying) {\n      this.setState({isPlaying: false})\n    }\n  }\n\n  handleVideoEnded = () => {\n    this.setState({\n      isPlaybackStarted: false,\n      lastAction: null,\n      isPlaying: false,\n      isLoading: false,\n    })\n  }\n\n  handleVideoLoadedData = () => {\n    this.setState({\n      isDataLoaded: true,\n      isLoading: false,\n    })\n  }\n\n  handleVideoError = () => {\n    this.setState({\n      isPlaying: false,\n      isLoading: false,\n    })\n  }\n\n  handleVideoDurationChange = duration => {\n    this.setState({duration})\n  }\n\n  handleVideoTimeUpdate = currentTime => {\n    const {isLoading} = this.state\n    if (isLoading || this.isSeeking) return\n    if (this.isSeeking) return\n    this.setState({currentTime})\n  }\n\n  handleVideoVolumeChange = volume => {\n    volume = Math.round(volume * 100) / 100\n    this.setState({volume})\n    storage.set('@griffith/history-volume', volume)\n  }\n\n  handleSeek = currentTime => {\n    const {\n      isPlaybackStarted,\n      isNeverPlayed,\n      currentTime: stateCurrentTime,\n    } = this.state\n    const isPlayEnded =\n      !isPlaybackStarted && !isNeverPlayed && stateCurrentTime !== 0 // 播放结束，显示「重新播放」状态\n    this.setState({currentTime})\n    // TODO 想办法去掉这个实例方法调用\n    this.videoRef.current.seek(currentTime)\n    if (isPlayEnded) {\n      this.handlePlay()\n    }\n  }\n\n  handleVideoWaiting = () => {\n    if (this.showLoaderTimeout !== null) return\n    this.showLoaderTimeout = setTimeout(() => {\n      this.setState({isLoading: true})\n    }, 1000)\n  }\n\n  handleVideoPlaying = () => {\n    if (this.showLoaderTimeout !== null) {\n      clearTimeout(this.showLoaderTimeout)\n      this.showLoaderTimeout = null\n    }\n    this.setState({isLoading: false})\n  }\n\n  handleVideoSeeking = () => {\n    this.isSeeking = true\n  }\n\n  handleVideoSeeked = () => {\n    this.isSeeking = false\n  }\n\n  handleVideoProgress = buffered => {\n    this.setState({buffered})\n  }\n\n  handleToggleFullScreen = () => {\n    if (BigScreen.enabled) {\n      const {onEvent} = this.props\n      const onEnter = () => onEvent(EVENTS.PLAYER.ENTER_FULLSCREEN)\n      const onExit = () => onEvent(EVENTS.PLAYER.EXIT_FULLSCREEN)\n      BigScreen.toggle(this.playerRef.current, onEnter, onExit)\n    }\n  }\n\n  handleShowController = () => {\n    if (!this.state.isControllerShown) {\n      this.setState({isControllerShown: true})\n    }\n    if (this.hideControllerTimeout !== null) {\n      clearTimeout(this.hideControllerTimeout)\n    }\n    this.hideControllerTimeout = setTimeout(() => {\n      this.hideControllerTimeout = null\n      this.setState({isControllerShown: false})\n    }, CONTROLLER_HIDE_DELAY)\n  }\n\n  handleHideController = () => {\n    if (this.hideControllerTimeout !== null) {\n      clearTimeout(this.hideControllerTimeout)\n      this.hideControllerTimeout = null\n    }\n    this.setState({isControllerShown: false})\n  }\n\n  handleControllerPointerEnter = () => {\n    this.setState({isControllerHovered: true})\n  }\n\n  handleControllerPointerLeave = () => {\n    this.setState({isControllerHovered: false})\n  }\n\n  handleControllerDragStart = () => {\n    this.setState({isControllerDragging: true})\n  }\n\n  handleControllerDragEnd = () => {\n    this.setState({isControllerDragging: false})\n  }\n\n  handleMouseEnter = () => {\n    this.setState({hovered: true})\n    this.handleShowController()\n  }\n\n  handleMouseLeave = () => {\n    this.setState({hovered: false})\n    this.handleHideController()\n  }\n\n  handleMouseDown = () => {\n    this.setState({pressed: true})\n    this.handleShowController()\n  }\n\n  handleMouseUp = () => {\n    this.setState({pressed: false})\n    this.handleShowController()\n  }\n\n  handleMouseMove = () => {\n    if (!this.state.hovered) {\n      this.setState({hovered: true})\n    }\n    this.handleShowController()\n  }\n\n  render() {\n    const {error, title, cover, standalone, onEvent, useMSE} = this.props\n    const {\n      isPlaybackStarted,\n      lastAction,\n      isPlaying,\n      isLoading,\n      duration,\n      isControllerShown,\n      isControllerHovered,\n      isControllerDragging,\n      currentTime,\n      isNeverPlayed,\n      volume,\n      buffered,\n      type,\n      hovered,\n      pressed,\n    } = this.state\n\n    const isFullScreen = Boolean(BigScreen.element)\n\n    // 未播放时不展示 Controller\n    // 播放中暂停时展示 Controller\n    // 播放中 Controller shown/hovered/dragging 时展示 Controller\n    // 播放结束展示 Controller\n    const showController =\n      (isPlaybackStarted &&\n        (!isPlaying ||\n          isControllerShown ||\n          isControllerHovered ||\n          isControllerDragging)) ||\n      (!isPlaybackStarted && currentTime !== 0)\n\n    const bufferedTime = getBufferedTime(currentTime, buffered)\n\n    return (\n      <div\n        className={css(styles.root, isFullScreen && styles.fullScreened)}\n        onMouseLeave={this.handleMouseLeave}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseDown={this.handleMouseDown}\n        onMouseUp={this.handleMouseUp}\n        onMouseMove={this.handleShowController}\n        ref={this.playerRef}\n      >\n        <div className={css(styles.video)}>\n          <Video\n            ref={this.videoRef}\n            controls={isMobile && isPlaybackStarted}\n            paused={!isPlaying}\n            volume={volume}\n            onPlay={this.handleVideoPlay}\n            onPause={this.handleVideoPause}\n            onEnded={this.handleVideoEnded}\n            onLoadedData={this.handleVideoLoadedData}\n            onError={this.handleVideoError}\n            onDurationChange={this.handleVideoDurationChange}\n            onTimeUpdate={this.handleVideoTimeUpdate}\n            onWaiting={this.handleVideoWaiting}\n            onPlaying={this.handleVideoPlaying}\n            onSeeking={this.handleVideoSeeking}\n            onSeeked={this.handleVideoSeeked}\n            onProgress={this.handleVideoProgress}\n            onEvent={onEvent}\n            useMSE={useMSE}\n          />\n        </div>\n        <div\n          className={css(styles.cover, !isPlaybackStarted && styles.coverShown)}\n          onClick={() => this.handlePlay()}\n        >\n          {cover && (\n            <ObjectFitContext.Consumer>\n              {({objectFit}) => (\n                <img\n                  className={css(styles.coverImage)}\n                  src={cover}\n                  style={{objectFit}}\n                />\n              )}\n            </ObjectFitContext.Consumer>\n          )}\n          {duration && currentTime === 0 && (\n            <div\n              className={css(\n                styles.coverTime,\n                isMobile && styles.coverTimeMobile\n              )}\n            >\n              <Time value={duration} />\n            </div>\n          )}\n          {/* 只有在第一次未播放时展示播放按钮，播放结束全部展示重播按钮 */}\n          {isNeverPlayed && (\n            <div className={css(styles.coverAction)}>\n              <div className={css(styles.actionButton)}>\n                <Icon icon={icons.play} styles={styles.actionIcon} />\n              </div>\n            </div>\n          )}\n          {/* 重播按钮 */}\n          {!isNeverPlayed && currentTime !== 0 && (\n            <div className={css(styles.coverReplayAction)}>\n              <div\n                className={css(\n                  styles.coverReplayButton,\n                  hovered && styles.coverReplayButtonHovered,\n                  pressed && styles.coverReplayButtonPressed\n                )}\n              >\n                <Icon icon={icons.replay} styles={styles.replayIcon} />\n                重新播放\n              </div>\n            </div>\n          )}\n        </div>\n        {!isMobile && (\n          <div\n            className={css(styles.overlay, isNeverPlayed && styles.overlayMask)}\n          >\n            {isPlaybackStarted && isLoading && (\n              <div className={css(styles.loader)}>\n                <Loader />\n              </div>\n            )}\n            {/*直接点击底部播放/暂停按钮时不展示动画*/}\n            {lastAction && type !== 'button' && (\n              <div className={css(styles.action)} key={lastAction}>\n                <div\n                  className={css(\n                    styles.actionButton,\n                    styles.actionButtonAnimated\n                  )}\n                >\n                  <Icon\n                    icon={lastAction === 'play' ? icons.play : icons.pause}\n                    styles={styles.actionIcon}\n                  />\n                </div>\n              </div>\n            )}\n            <div\n              className={css(styles.backdrop)}\n              onTouchStart={event => {\n                // prevent touch to toggle\n                event.preventDefault()\n              }}\n              onClick={this.handleToggle}\n            />\n            {title && isFullScreen && (\n              <div\n                className={css(\n                  styles.title,\n                  showController && styles.titleShown\n                )}\n              >\n                {title}\n              </div>\n            )}\n            {/*首帧已加载完成时展示 MinimalTimeline 组件*/}\n            {isPlaying && (!isLoading || currentTime !== 0) && (\n              <div\n                className={css(\n                  hiddenOrShownStyle.base,\n                  showController\n                    ? hiddenOrShownStyle.hidden\n                    : hiddenOrShownStyle.shown\n                )}\n              >\n                <MinimalTimeline\n                  buffered={bufferedTime}\n                  duration={duration}\n                  currentTime={currentTime}\n                  show={!showController}\n                />\n              </div>\n            )}\n            {/*首帧已加载完成时展示 Controller 组件*/}\n            {isPlaybackStarted && (!isLoading || currentTime !== 0) && (\n              <div\n                className={css(\n                  styles.controller,\n                  hiddenOrShownStyle.base,\n                  showController\n                    ? hiddenOrShownStyle.shown\n                    : hiddenOrShownStyle.hidden\n                )}\n                onMouseEnter={this.handleControllerPointerEnter}\n                onMouseLeave={this.handleControllerPointerLeave}\n              >\n                <Controller\n                  standalone={standalone}\n                  isPlaying={isPlaying}\n                  duration={duration}\n                  currentTime={currentTime}\n                  volume={volume}\n                  buffered={bufferedTime}\n                  isFullScreen={isFullScreen}\n                  onDragStart={this.handleControllerDragStart}\n                  onDragEnd={this.handleControllerDragEnd}\n                  onPlay={this.handlePlay}\n                  onPause={this.handlePause}\n                  onSeek={this.handleSeek}\n                  onVolumeChange={this.handleVideoVolumeChange}\n                  onToggleFullScreen={this.handleToggleFullScreen}\n                  show={showController}\n                />\n              </div>\n            )}\n          </div>\n        )}\n        {error && (\n          <div className={css(styles.error)}>\n            <Icon icon={icons.alert} styles={styles.errorIcon} />\n            {error.message && (\n              <div className={css(styles.errorMessage)}>{error.message}</div>\n            )}\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Player\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Player from '../Player'\nimport {\n  VideoSourceProvider,\n  VideoSourceContext,\n} from '../../contexts/VideoSource'\nimport {MessageProvider, InternalContext} from '../../contexts/Message'\nimport {PositionProvider} from '../../contexts/Position'\nimport {ObjectFitProvider, VALID_FIT} from '../../contexts/ObjectFit'\nimport {LocaleContext} from '../../contexts/Locale'\n\nconst PlayerContainer = ({\n  standalone,\n  id,\n  title,\n  cover,\n  duration,\n  sources,\n  error,\n  onBeforePlay = () => Promise.resolve(),\n  shouldObserveResize,\n  children,\n  initialObjectFit = 'contain',\n  useMSE,\n  locale = 'en',\n  autoplay,\n}) => (\n  <ObjectFitProvider initialObjectFit={initialObjectFit}>\n    <PositionProvider shouldObserveResize={shouldObserveResize}>\n      <MessageProvider id={id} enableCrossWindow={standalone}>\n        <InternalContext.Consumer>\n          {({emitEvent, subscribeAction}) => (\n            <VideoSourceProvider onEvent={emitEvent} sources={sources} id={id}>\n              <LocaleContext.Provider value={locale}>\n                <VideoSourceContext.Consumer>\n                  {({currentSrc}) => (\n                    <Player\n                      useMSE={useMSE}\n                      autoplay={autoplay}\n                      standalone={standalone}\n                      cover={cover}\n                      title={title}\n                      duration={duration}\n                      error={error}\n                      onEvent={emitEvent}\n                      subscribeAction={subscribeAction}\n                      onBeforePlay={() => onBeforePlay(currentSrc)}\n                    />\n                  )}\n                </VideoSourceContext.Consumer>\n                {children}\n              </LocaleContext.Provider>\n            </VideoSourceProvider>\n          )}\n        </InternalContext.Consumer>\n      </MessageProvider>\n    </PositionProvider>\n  </ObjectFitProvider>\n)\n\nPlayerContainer.propTypes = {\n  standalone: PropTypes.bool,\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string,\n  cover: PropTypes.string.isRequired,\n  duration: PropTypes.number.isRequired,\n  sources: PropTypes.objectOf(\n    PropTypes.shape({\n      bitrate: PropTypes.number.isRequired,\n      duration: PropTypes.number.isRequired,\n      format: PropTypes.string.isRequired,\n      height: PropTypes.number.isRequired,\n      play_url: PropTypes.string.isRequired,\n      size: PropTypes.number.isRequired,\n      width: PropTypes.number.isRequired,\n    })\n  ).isRequired,\n  error: PropTypes.shape({\n    message: PropTypes.string,\n  }),\n  onBeforePlay: PropTypes.func,\n  initialObjectFit: PropTypes.oneOf(VALID_FIT),\n  useMSE: PropTypes.bool,\n}\n\nexport default PlayerContainer\n","import {StyleSheet} from 'aphrodite/no-important'\n\nexport default StyleSheet.create({\n  container: {\n    position: 'absolute',\n    pointerEvents: 'none',\n    overflow: 'hidden',\n  },\n\n  containerFullWidth: {\n    width: '100%',\n    height: 'auto',\n    top: '50%',\n    left: 0,\n    transform: 'translate(0, -50%)',\n  },\n\n  containerFullHeight: {\n    width: 'auto',\n    height: '100%',\n    top: 0,\n    left: '50%',\n    transform: 'translate(-50%)',\n  },\n\n  image: {\n    display: 'block',\n    visibility: 'hidden',\n  },\n\n  imageFullWidth: {\n    width: '100%',\n    height: 'auto',\n  },\n\n  imageFullHeight: {\n    width: 'auto',\n    height: '100%',\n  },\n\n  layer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'hidden',\n    pointerEvents: 'none',\n  },\n})\n","import React from 'react'\nimport {css} from 'aphrodite/no-important'\nimport {PositionContext} from '../../contexts/Position'\nimport {ObjectFitContext} from '../../contexts/ObjectFit'\nimport styles from './styles'\n\nconst getContainerClassName = isFullWidth =>\n  css(\n    styles.container,\n    isFullWidth ? styles.containerFullWidth : styles.containerFullHeight\n  )\n\nconst getImageClassName = isFullWidth =>\n  css(\n    styles.image,\n    isFullWidth ? styles.imageFullWidth : styles.imageFullHeight\n  )\n\nconst Positioned = ({children}) => (\n  <PositionContext.Consumer>\n    {({isFullWidth, helperImageSrc}) =>\n      helperImageSrc && (\n        <div className={getContainerClassName(isFullWidth)}>\n          <img\n            src={helperImageSrc}\n            className={getImageClassName(isFullWidth)}\n          />\n          {children}\n        </div>\n      )\n    }\n  </PositionContext.Consumer>\n)\n\nexport default function Layer({children}) {\n  if (!children) return null\n\n  const layer = <div className={css(styles.layer)}>{children}</div>\n\n  // 暂时先只考虑 cover\n  return (\n    <ObjectFitContext.Consumer>\n      {({objectFit}) =>\n        objectFit === 'cover' ? layer : <Positioned>{layer}</Positioned>\n      }\n    </ObjectFitContext.Consumer>\n  )\n}\n"],"names":["pad","number","result","String","length","formatTime","time","Number","isFinite","Math","floor","seconds","minutes","Time","React","Component","render","value","props","PropTypes","StyleSheet","create","root","display","width","height","svg","fill","Icon","icon","styles","customStyles","children","cloneElement","className","css","propTypes","element","isRequired","SIZE","BORDER","RADIUS","PERIMETER","PI","animation","transform","circleAnimation","strokeDashoffset","animationName","animationDuration","animationIterationCount","animationTimingFunction","circle","cx","cy","r","strokeDasharray","stroke","strokeWidth","strokeLinecap","transformOrigin","Loader","VideoSourceContext","createContext","displayName","QUALITY_ORDER","getQualities","sources","isMobile","qualities","Object","keys","sort","a","b","indexOf","slice","filter","item","getSources","map","quality","play_url","rest","source","ua","VideoSourceProvider","currentQuality","format","expiration","dataKey","prevQuality","state","setState","onEvent","EVENTS","PLAYER","QUALITY_CHANGE","find","currentSrc","getCurrentSrc","setCurrentQuality","func","object","id","string","videoSources","values","parse","unshift","EVENT_TYPE","ACTION_TYPE","InternalContext","ExternalContext","MessageProvider","PureComponent","constructor","eventName","data","emitter","emit","__type__","enableCrossWindow","dispatchCrossWindowMessage","window","parent","listener","realLisener","on","unsubscribe","off","actionName","EventEmitter","targetOrigin","subscribeMessage","dispatchMessage","createMessageHelper","subscribeCrossWindowMessage","componentDidMount","crossWindowMessageSubscription","dispatchAction","componentWillUnmount","crossWindowEventSubscription","emitEvent","subscribeAction","subscribeEvent","bool","ObjectFitContext","VALID_FIT","ObjectFitProvider","objectFit","initialObjectFit","includes","componentDidUpdate","prevProps","setObjectFit","oneOf","PositionContext","isFullWidth","position","PositionProvider","videoWidth","videoHeight","helperImageSrc","createRef","ref","current","elementResizeEvent","updateIsFullWidth","reduce","canvas","document","createElement","toDataURL","getBoundingClientRect","requestAnimationFrame","shouldObserveResize","startObservingResize","triggerUpdateIsFullWidth","updateHelperImageSrc","prevState","prevShouldObserve","prevWidth","prevHeight","stopObservingResize","unbind","updateVideoSize","eventMap","DOM","PLAY","PLAYING","PAUSE","ENDED","TIMEUPDATE","ERROR","WAITING","serializeDOMException","exception","code","messge","name","getMediaEventPayload","event","currentTime","duration","error","currentTarget","VideoWithMessage","forwardRef","renderChildren","newProps","key","handler","sequence","noop","updateVideoSizeOnLoadedMetadata","videoNode","newOnLoadedMetadata","onLoadedMetadata","Video","otherProps","NormalVideo","onRef","paused","pluginName","VideoComponent","selectVideo","useMSE","__WITHOUT_HLSJS__","isMSESupported","isHlsNativeSupported","require","default","__WITHOUT_MP4__","isAbortError","MediaError","MEDIA_ERR_ABORTED","isNotAllowedError","fn","playPromise","undefined","then","isMetadataLoaded","applyPendingAction","onError","onDurationChange","loading","onWaiting","onPlaying","arg","onTimeUpdate","disposeTimer","isRaf","_playTimer","handleTimeUpdate","onProgress","buffered","i","push","start","end","message","logger","debug","dontReportPlayFailed","PLAY_FAILED","volume","getSnapshotBeforeUpdate","snapshot","src","willHandleSrcChange","safeExecute","seek","play","pause","pending","action","pendingAction","load","Promise","resolve","catch","cancelAnimationFrame","controls","onPlay","onPause","onEnded","onLoadedData","onSeeking","onSeeked","node","handleClick","handleMetadataLoaded","handleError","handleDurationChange","handleProgress","handleWaiting","handlePlaying","ENTER","SPACE","LEFT","UP","RIGHT","DOWN","ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","F","J","K","L","M","alignItems","padding","button","margin","border","borderRadius","fontSize","color","background","cursor","transition","outline","menuContainer","menu","left","bottom","visibility","opacity","backgroundColor","menuShown","timeline","flex","textAlign","lineHeight","qualityButton","qualityButtonText","qualityMenu","qualityMenuItem","whiteSpace","qualityMenuActiveItem","fullScreenTooltip","pointerEvents","fullScreenedTime","fullScreenTooltipWide","PlayButtonItem","isPlaying","onClick","toggle","icons","calculatePercentage","total","clamp","overflow","userSelect","touchAction","WebkitTapHighlightColor","inner","track","bar","thumbWrapper","thumb","horizontal","flexDirection","top","vertical","right","Slider","isSlideActive","isSliding","slidingValue","reverse","step","direction","keyCode","KeyCode","preventDefault","handleChange","getSlidingValue","onDragStart","registerEvents","unregisterEvents","onDragEnd","onChange","addEventListener","handleDragMove","handleDragEnd","removeEventListener","getVariantStyleSheet","orientation","horizontalStyles","verticalStyles","getStyles","Array","isArray","Boolean","getClassName","names","prototype","concat","apply","getAlignKey","getSizeKey","getPercentage","formatPercent","getBufferedPercentage","trackRef","rect","clientX","clientY","onFocus","onBlur","noInteraction","interactionProps","tabIndex","onKeyDown","handleKeyDown","onMouseDown","handleDragStart","slider","hoveredSlider","minimal","Timeline","isHovered","isFocused","isDragging","onSeek","handlePointerEnter","handlePointerLeave","sliderStyles","hoveredSliderStyles","handleFocus","handleBlur","MinimalTimeline","shouldComponentUpdate","nextProps","show","TimelineItem","CombinedTimeItem","isFullScreen","timeText","arr","LocaleContext","en","ja","TranslatedText","locale","strings","QUALITIES","auto","ld","sd","hd","QualityMenuItem","isQualityHovered","handleQualityPointerEnter","handleQualityPointerLeave","reverseArray","q","thumbSliding","VolumeSlider","VolumeItem","onMouseEnter","onMouseLeave","onToggleMuted","Tooltip","content","Hover","FullScreenButtonItem","isFullScreenHovered","Controller","isVolumeHovered","isVolumeDragging","isVolumeKeyboard","slideTime","type","onVolumeChange","prevVolume","handleVolumeChange","onToggleFullScreen","handled","firstKey","handleToggle","handleSeek","nextTime","handleToggleMuted","handleVolumeKeyboard","debounce","standalone","handleKeyUp","hiddenVolumeItem","hiddenQualityMenu","displayedCurrentTime","fullScreened","onDragMove","handleVolumePointerEnter","handleVolumePointerLeave","handleVolumeDragStart","handleVolumeDragEnd","onQualityChange","getBufferedTime","compatibleStorage","store","setItem","removeItem","getItem","storage","isSupported","memoize","testSupport","supported","global","localStorage","err","getStorage","set","JSON","stringify","get","delete","actionAnimation","fadeinAnimation","breakpoints","mobile","breakTo","breakpoint","actionButton","actionButtonAnimated","animationFillMode","actionIcon","video","overlay","overlayMask","loader","backdrop","title","textOverflow","backgroundImage","titleShown","controller","cover","coverShown","coverImage","coverTime","textShadow","coverTimeMobile","coverAction","coverReplayAction","coverReplayButton","boxSizing","willChange","coverReplayButtonHovered","coverReplayButtonPressed","replayIcon","verticalAlign","marginRight","justifyContent","errorIcon","errorMessage","marginTop","hiddenOrShownStyle","base","hidden","shown","CONTROLLER_HIDE_DELAY","Player","isPlaybackStarted","isNeverPlayed","lastAction","isDataLoaded","isLoading","isControllerShown","isControllerHovered","isControllerDragging","hovered","pressed","dontApplyOnFullScreen","BigScreen","handlePause","handlePlay","onBeforePlay","REQUEST_PLAY","PLAY_COUNT","PLAY_REJECTED","REQUEST_PAUSE","isSeeking","round","stateCurrentTime","isPlayEnded","videoRef","showLoaderTimeout","setTimeout","clearTimeout","enabled","onEnter","ENTER_FULLSCREEN","onExit","EXIT_FULLSCREEN","playerRef","hideControllerTimeout","handleShowController","handleHideController","setDocumentTitle","historyVolume","pauseActionSubscription","ACTIONS","handlePauseAction","autoplay","muted","handleVideoVolumeChange","showController","bufferedTime","handleMouseLeave","handleMouseEnter","handleMouseDown","handleMouseUp","handleVideoPlay","handleVideoPause","handleVideoEnded","handleVideoLoadedData","handleVideoError","handleVideoDurationChange","handleVideoTimeUpdate","handleVideoWaiting","handleVideoPlaying","handleVideoSeeking","handleVideoSeeked","handleVideoProgress","handleControllerPointerEnter","handleControllerPointerLeave","handleControllerDragStart","handleControllerDragEnd","handleToggleFullScreen","shape","shouldUpdateDuration","newDurationState","PlayerContainer","objectOf","bitrate","size","container","containerFullWidth","containerFullHeight","image","imageFullWidth","imageFullHeight","layer","getContainerClassName","getImageClassName","Positioned","Layer"],"mappings":"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"}